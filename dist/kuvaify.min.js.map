{"version":3,"sources":["kuvaify.js"],"names":["kuvaify","options","linkElement","fileTypes","coverScreen","showShortcuts","transitionSpeed","transitionScale","zoomRatio","smallSize","mediumSize","body","document","images","currentIndex","nextIndex","prevIndex","screenWidth","clientWidth","screenHeight","clientHeight","closed","setup","settings","constructor","Array","undefined","zoomScale","links","get","push","addEventListeners","init","linksCollection","querySelectorAll","linksArray","slice","call","join","regex","RegExp","forEach","link","pathname","match","img","addEventListener","event","index","indexOf","current","overlay","append","closeDiv","close","menu","navigation","spinner","setTimeout","visibility","prepare","preventDefault","element","createElement","focusStarted","focus","id","style","transition","appendChild","what","classList","add","remove","window","removeEventListeners","removeEventListener","href","smallHref","getAttribute","mediumHref","caption","scale","scaleRatio","rotate","offx","offy","loaded","left","top","innerHTML","replace","size","imgWidth","imgHeight","transform","show","src","thisIndex","transformArgs","transformString","scaleValue","rotateValue","webkitTransform","msTransform","reset","click","div","wheel","wheelDelta","mousedown","clientX","offsetLeft","clientY","offsetTop","mousemove","move","requestAnimationFrame","mouseup","zoom","closeEvent","keydown","keyCode","button","help","contains","divClick","_out","_in","zoomOut","zoomIn","negative","positive","negativeRotate","positiveRotate","next","prev","getNext","getPrev","nextImg","prevImg"],"mappings":"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","file":"kuvaify.min.js","sourcesContent":["var kuvaify = (function () {\n  'use strict'\n\n  var options = {\n    linkElement: 'body',\n    fileTypes: ['jpg', 'jpeg', 'png', 'gif'],\n    coverScreen: true,\n    showShortcuts: true,\n    transitionSpeed: 400,\n    transitionScale: 0.08,\n    zoomRatio: 0.2,\n    smallSize: 768,\n    mediumSize: 1280\n  }\n\n  var body = document.body\n  var images = []\n  var currentIndex = null\n  var nextIndex = null\n  var prevIndex = null\n  var screenWidth = body.clientWidth\n  var screenHeight = body.clientHeight\n  var closed = false\n\n  var setup = function (settings) {\n    if (settings.linkElement) {\n      if (typeof settings.linkElement === 'string') {\n        options.linkElement = settings.linkElement\n      }\n    }\n    if (settings.fileTypes) {\n      if (settings.fileTypes.constructor === Array) {\n        options.fileTypes = settings.fileTypes\n      }\n    }\n    if (settings.coverScreen !== undefined) {\n      if (settings.coverScreen === false) {\n        options.coverScreen = false\n      }\n    }\n    if (settings.showShortcuts !== undefined) {\n      if (settings.showShortcuts === false) {\n        options.showShortcuts = false\n      }\n    }\n    if (settings.transitionSpeed) {\n      if (typeof settings.transitionSpeed === 'number' && settings.transitionSpeed >= 100) {\n        options.transitionSpeed = settings.transitionSpeed\n      }\n    }\n    if (settings.transitionScale) {\n      if (typeof settings.transitionScale === 'number') {\n        options.transitionScale = settings.transitionScale\n      }\n      if (settings.transitionScale === 0) {\n        options.transitionScale = 0\n      }\n    }\n    if (settings.zoomScale) {\n      if (typeof settings.zoomScale === 'number') {\n        options.zoomScale = settings.zoomScale\n      }\n      if (settings.zoomScale === 0) {\n        options.zoomScale = 0\n      }\n    }\n    if (settings.smallSize) {\n      if (typeof settings.smallSize === 'number') {\n        options.smallSize = settings.smallSize\n      }\n    }\n    if (settings.mediumSize) {\n      if (typeof settings.mediumSize === 'number') {\n        options.mediumSize = settings.mediumSize\n      }\n    }\n\n    links.get()\n    links.push()\n    links.addEventListeners()\n  }\n\n  var init = function (settings) {\n    setup(settings)\n  }\n\n  var links = {\n    links: [],\n\n    get: function () {\n      var linksCollection = document.querySelectorAll(options.linkElement + ' a')\n      var linksArray = [].slice.call(linksCollection)\n      var fileTypes = options.fileTypes.join('|')\n      var regex = new RegExp('\\.(' + fileTypes + ')$');\n\n      linksArray.forEach(function (link) {\n        if (link.pathname.match(regex)) {\n          links.links.push(link)\n        }\n      })\n    },\n\n    push: function () {\n      links.links.forEach(function (link) {\n        img.push(link)\n      })\n    },\n\n    addEventListeners: function () {\n      links.links.forEach(function (link) {\n        link.addEventListener('click', function (event) {\n          closed = false\n\n          var index = links.links.indexOf(link)\n\n          img.current(index)\n\n          overlay.append()\n          closeDiv.append()\n          close.append()\n          menu.append()\n          navigation.append()\n          spinner.append()\n\n          overlay.addEventListeners()\n          closeDiv.addEventListeners()\n          menu.addEventListeners()\n          close.addEventListeners()\n          navigation.addEventListeners()\n\n          setTimeout(function () {\n            overlay.visibility('show')\n            close.visibility('show')\n            menu.visibility('show')\n            navigation.visibility('depends')\n\n            img.prepare(index)\n          }, 100)\n\n          event.preventDefault()\n        })\n      })\n    }\n  }\n\n  var overlay = {\n    element: document.createElement('div'),\n    focusStarted: false,\n\n    focus: function (event) {\n      if (overlay.focusStarted === false) {\n        overlay.visibility('focus')\n\n        setTimeout(function () {\n          overlay.visibility('unfocus')\n\n          overlay.focusStarted = false\n        }, 2000)\n      }\n\n      overlay.focusStarted = true\n    },\n\n    append: function () {\n      overlay.element.id = 'kuvaify'\n      overlay.element.style.transition = 'opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease'\n\n      body.appendChild(overlay.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        overlay.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        overlay.element.classList.remove('visible')\n      }\n      if (what === 'focus') {\n        overlay.element.classList.add('focused')\n      }\n      if (what === 'unfocus') {\n        overlay.element.classList.remove('focused')\n      }\n    },\n\n    addEventListeners: function () {\n      window.addEventListener('mousemove', overlay.focus)\n    },\n\n    removeEventListeners: function () {\n      window.removeEventListener('mousemove', overlay.focus)\n    }\n  }\n\n  var img = {\n    push: function (link) {\n      var img = {\n        element: document.createElement('img'),\n        href: link.pathname,\n        smallHref: link.getAttribute('data-kuvaify-small') || null,\n        mediumHref: link.getAttribute('data-kuvaify-medium') || null,\n        caption: null,\n        scale: 1,\n        scaleRatio: options.zoomRatio,\n        rotate: 0,\n        offx: 0,\n        offy: 0,\n        transition: 'width ' + options.transitionSpeed + 'ms ease, height ' + options.transitionSpeed + 'ms ease, transform ' + options.transitionSpeed + 'ms ease, opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease',\n        loaded: false\n      }\n\n      img.element.style.transition = img.transition\n      img.element.style.left = null\n      img.element.style.top = null\n      img.element.classList.add('kuvaify-img')\n\n      if (link.getAttribute('data-kuvaify-caption')) {\n        img.caption = document.createElement('div')\n        img.caption.innerHTML = '<p>' + link.getAttribute('data-kuvaify-caption').replace(/<[^>]+>/ig,'') + '</p>'\n        img.caption.id = 'kuvaify-caption'\n        img.caption.style.transition = 'opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease'\n      }\n\n      images.push(img)\n    },\n\n    current: function (index) {\n      var img = images[index]\n\n      currentIndex = images.indexOf(img)\n\n      if (images[currentIndex + 1]) {\n        nextIndex = currentIndex + 1\n      } else {\n        nextIndex = null\n      }\n      if (images[currentIndex - 1]) {\n        prevIndex = currentIndex - 1\n      } else {\n        prevIndex = null\n      }\n    },\n\n    href: function () {\n      if (screenWidth < options.smallSize) {\n        return images[currentIndex].smallHref\n      }\n      if (screenWidth < options.mediumSize) {\n        return images[currentIndex].mediumHref\n      }\n\n      return images[currentIndex].href\n    },\n\n    size: function () {\n      var imgWidth = images[currentIndex].element.clientWidth\n      var imgHeight = images[currentIndex].element.clientHeight\n      var what\n\n      screenWidth = body.clientWidth\n      screenHeight = body.clientHeight\n\n      if (imgWidth < screenWidth && imgHeight < screenHeight) {\n        if (imgWidth > imgHeight) {\n          what = 'cover-vertically'\n        } else {\n          what = 'cover-horizontally'\n        }\n      } else {\n        if (imgWidth < screenWidth) {\n          what = 'cover-horizontally'\n        }\n        if (imgHeight < screenHeight) {\n          what = 'cover-vertically'\n        }\n      }\n\n      images[currentIndex].element.classList.add(what)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        images[currentIndex].element.classList.add('visible')\n\n        if (options.transitionScale > 0) {\n          img.transform({\n            scale: images[currentIndex].scale - options.transitionScale\n          })\n        }\n\n        if (images[currentIndex].caption) {\n          images[currentIndex].caption.classList.add('visible')\n        }\n      }\n      if (what === 'hide') {\n        images[currentIndex].element.classList.remove('visible')\n\n        if (images[currentIndex].caption) {\n          images[currentIndex].caption.classList.remove('visible')\n        }\n      }\n      if (what === 'measure') {\n        images[currentIndex].element.classList.add('measure')\n      }\n      if (what === 'measured') {\n        images[currentIndex].element.classList.remove('measure')\n      }\n    },\n\n    show: function () {\n      img.visibility('measure')\n\n      if (options.transitionScale > 0) {\n        img.transform({ scale: images[currentIndex].scale + options.transitionScale })\n      }\n      if (options.coverScreen) {\n        img.size()\n      }\n\n      setTimeout(function () {\n        img.visibility('show')\n\n        setTimeout(function () {\n          img.visibility('measured')\n        }, 100)\n      }, options.transitionSpeed / 4)\n    },\n\n    prepare: function (index) {\n      navigation.removeEventListeners()\n\n      img.visibility('hide')\n\n      img.current(index)\n\n      navigation.visibility('depends')\n\n      img.addEventListeners()\n\n      if (!images[currentIndex].element.src) {\n        ;(function (thisIndex) {\n          var thisIndex = thisIndex\n\n          spinner.visibility('show')\n\n          overlay.element.appendChild(images[thisIndex].element)\n\n          if (images[thisIndex].caption) {\n            overlay.element.appendChild(images[thisIndex].caption)\n          }\n\n          images[thisIndex].element.src = img.href()\n\n          images[thisIndex].element.addEventListener('load', function () {\n            images[thisIndex].loaded = true\n\n            spinner.visibility('hide')\n\n            if (thisIndex === currentIndex && !closed) {\n              img.show()\n            }\n          })\n        })(currentIndex)\n      } else {\n        if (images[currentIndex].loaded) {\n          spinner.visibility('hide')\n\n          img.show()\n        } else {\n          spinner.visibility('show')\n        }\n      }\n      setTimeout(function () {\n        navigation.addEventListeners()\n      }, options.transitionSpeed / 2)\n    },\n\n    transform: function (transformArgs) {\n      rotate.removeEventListeners()\n\n      var scaleValue = transformArgs.scale || images[currentIndex].scale\n      var rotateValue = transformArgs.rotate || images[currentIndex].rotate\n      var transformString\n\n      if (transformArgs.rotate === 0) {\n        rotateValue = 0\n      }\n\n      transformString = 'translate(-50%, -50%) scale(' + scaleValue + ') rotate(' + rotateValue + 'deg)'\n\n      images[currentIndex].scale = scaleValue\n      images[currentIndex].rotate = rotateValue\n      images[currentIndex].element.style.webkitTransform = transformString\n      images[currentIndex].element.style.msTransform = transformString\n      images[currentIndex].element.style.transform = transformString\n\n      setTimeout(function () {\n        rotate.addEventListeners()\n      }, options.transitionSpeed / 2)\n    },\n\n    reset: function () {\n      images[currentIndex].element.style.transition = images[currentIndex].transition + ', left ' + options.transitionSpeed + 'ms ease, top ' + options.transitionSpeed + 'ms ease'\n      images[currentIndex].element.style.left = null\n      images[currentIndex].element.style.top = null\n\n      setTimeout(function () {\n        images[currentIndex].element.style.transition = images[currentIndex].transition\n      }, options.transitionSpeed)\n\n      img.transform({\n        scale: 1,\n        rotate: 0\n      })\n    },\n\n    click: function (event) {\n      menu.div.classList.remove('visible')\n\n      event.preventDefault()\n    },\n\n    wheel: function (event) {\n      if (event.wheelDelta === 120) {\n        images[currentIndex].scale += images[currentIndex].scaleRatio\n      } else {\n        if (images[currentIndex].scale >= 0.4) {\n          images[currentIndex].scale -= images[currentIndex].scaleRatio\n        }\n      }\n\n      img.transform({\n        scale: images[currentIndex].scale\n      })\n\n      event.preventDefault()\n    },\n\n    mousedown: function (event) {\n      images[currentIndex].offx = event.clientX - images[currentIndex].element.offsetLeft\n      images[currentIndex].offy = event.clientY - images[currentIndex].element.offsetTop\n\n      window.addEventListener('mousemove', img.mousemove)\n\n      event.preventDefault()\n    },\n\n    mousemove: function (event) {\n      var move = function () {\n        images[currentIndex].element.style.left = event.clientX - images[currentIndex].offx + 'px'\n        images[currentIndex].element.style.top = event.clientY - images[currentIndex].offy + 'px'\n      }\n\n      window.requestAnimationFrame(move)\n    },\n\n    mouseup: function (event) {\n      window.removeEventListener('mousemove', img.mousemove)\n    },\n\n    addEventListeners: function () {\n      images[currentIndex].element.addEventListener('mousedown', img.mousedown)\n      images[currentIndex].element.addEventListener('click', img.click)\n\n      window.addEventListener('wheel', img.wheel)\n      window.addEventListener('mouseup', img.mouseup)\n\n      if (options.coverScreen) {\n        window.addEventListener('resize', img.size)\n      }\n    },\n\n    removeEventListeners: function () {\n      images[currentIndex].element.removeEventListener('mousedown', img.mousedown)\n      images[currentIndex].element.removeEventListener('click', img.click)\n\n      window.removeEventListener('wheel', img.wheel)\n      window.removeEventListener('mouseup', img.mouseup)\n\n      if (options.coverScreen) {\n        window.removeEventListener('resize', img.size)\n      }\n    }\n  }\n\n  var close = {\n    element: document.createElement('a'),\n\n    append: function () {\n      close.element.id = 'kuvaify-close-button',\n      close.element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 40l30-30M40 40L10 10\"/></g></svg>'\n\n      overlay.element.appendChild(close.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        close.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        close.element.classList.remove('visible')\n      }\n    },\n\n    close: function () {\n      closed = true\n\n      overlay.visibility('hide')\n      closeDiv.visibility('hide')\n      img.visibility('hide')\n      close.visibility('hide')\n      menu.visibility('hide')\n      navigation.visibility('hide')\n      spinner.visibility('hide')\n\n      overlay.removeEventListeners()\n      closeDiv.removeEventListeners()\n      img.removeEventListeners()\n      menu.removeEventListeners()\n      reset.removeEventListeners()\n      zoom.removeEventListeners()\n      rotate.removeEventListeners()\n      navigation.removeEventListeners()\n    },\n\n    closeEvent: function (event) {\n      close.close()\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 27) {\n        close.closeEvent(event)\n      }\n    },\n\n    addEventListeners: function () {\n      close.element.addEventListener('click', close.closeEvent)\n\n      window.addEventListener('keydown', close.keydown)\n    },\n\n    removeEventListeners: function () {\n      close.element.removeEventListener('click', close.closeEvent)\n\n      window.removeEventListener('keydown', close.keydown)\n    }\n  }\n\n  var menu = {\n    button: document.createElement('a'),\n    div: document.createElement('div'),\n    help: document.createElement('p'),\n\n    append: function () {\n      menu.button.id = 'kuvaify-menu-button'\n      menu.button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 11h30M10 25h30M10 39h30\"/></g></svg>'\n      menu.div.id = 'kuvaify-menu-div'\n      menu.help.id = 'kuvaify-help'\n      menu.help.innerHTML = 'Desktop users can use the <strong>left</strong> and <strong>right</strong> keys to navigate; <strong>up</strong> and <strong>down</strong> or <strong>scroll</strong> to zoom; <strong>page up</strong> and <strong>page down</strong> to rotate; <strong>click</strong> and <strong>drag</strong> to move; <strong>home</strong> to reset; and <strong>esc</strong> to close.'\n\n      rotate.append()\n      zoom.append()\n      reset.append()\n\n      if (options.showShortcuts && screenWidth > 1280) {\n        menu.div.appendChild(menu.help)\n      }\n\n      overlay.element.appendChild(menu.button)\n      overlay.element.appendChild(menu.div)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        menu.button.classList.add('visible')\n      }\n      if (what === 'hide') {\n        menu.button.classList.remove('visible')\n        menu.div.classList.remove('visible')\n      }\n    },\n\n    click: function (event) {\n      if (!menu.div.classList.contains('visible')) {\n        menu.div.classList.add('visible')\n      } else {\n        menu.div.classList.remove('visible')\n      }\n\n      event.preventDefault()\n    },\n\n    divClick: function (event) {\n      menu.div.classList.remove('visible')\n\n      event.preventDefault()\n    },\n\n    addEventListeners: function () {\n      menu.button.addEventListener('click', menu.click)\n\n      rotate.addEventListeners()\n      zoom.addEventListeners()\n      reset.addEventListeners()\n    },\n\n    removeEventListeners: function () {\n      menu.button.removeEventListener('click', menu.click)\n\n      rotate.removeEventListeners()\n      zoom.removeEventListeners()\n      reset.removeEventListeners()\n    }\n  }\n\n  var reset = {\n    element: document.createElement('a'),\n\n    append: function () {\n      reset.element.id = 'kuvaify-reset-button',\n      reset.element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M21.62 28.38L10.31 39.69M12 28h10v10\"/><g><path d=\"M28.38 21.62L39.69 10.31M38 22H28V12\"/></g></g></svg>'\n\n      menu.div.appendChild(reset.element)\n    },\n\n    reset: function (event) {\n      img.reset()\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 36) {\n        reset.reset(event)\n      }\n    },\n\n    addEventListeners: function () {\n      reset.element.addEventListener('click', reset.reset)\n\n      window.addEventListener('keydown', reset.keydown)\n    },\n\n    removeEventListeners: function () {\n      reset.element.removeEventListener('click', reset.reset)\n\n      window.removeEventListener('keydown', reset.keydown)\n    }\n  }\n\n  var zoom = {\n    _out: document.createElement('a'),\n    _in: document.createElement('a'),\n\n    append: function () {\n      zoom._out.id = 'kuvaify-zoom-out-button',\n      zoom._out.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M40 25H10\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n      zoom._in.id = 'kuvaify-zoom-in-button',\n      zoom._in.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"><path d=\"M25 40V10M40 25H10\"/></g></svg>'\n\n      menu.div.appendChild(zoom._out)\n      menu.div.appendChild(zoom._in)\n    },\n\n    zoomOut: function (event) {\n      if (images[currentIndex].scale >= 0.4) {\n        images[currentIndex].scale -= images[currentIndex].scaleRatio\n      }\n\n      img.transform({\n        scale: images[currentIndex].scale\n      })\n\n      event.preventDefault()\n    },\n\n    zoomIn: function (event) {\n      images[currentIndex].scale += images[currentIndex].scaleRatio\n\n      img.transform({\n        scale: images[currentIndex].scale\n      })\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 38) {\n        zoom.zoomIn(event)\n      }\n      if (event.keyCode === 40) {\n        zoom.zoomOut(event)\n      }\n    },\n\n    addEventListeners: function () {\n      zoom._out.addEventListener('click', zoom.zoomOut)\n      zoom._in.addEventListener('click', zoom.zoomIn)\n\n      window.addEventListener('keydown', zoom.keydown)\n    },\n\n    removeEventListeners: function () {\n      zoom._out.removeEventListener('click', zoom.zoomOut)\n      zoom._in.removeEventListener('click', zoom.zoomIn)\n\n      window.removeEventListener('keydown', zoom.keydown)\n    }\n  }\n\n  var rotate = {\n    negative: document.createElement('a'),\n    positive: document.createElement('a'),\n\n    append: function () {\n      rotate.negative.id = 'kuvaify-rotate-negative-button',\n      rotate.negative.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14\" stroke-linejoin=\"round\"/><path d=\"M5.03 17.885l5.565 8.308 8.308-5.567\"/></g></svg>'\n      rotate.positive.id = 'kuvaify-rotate-positive-button',\n      rotate.positive.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14\" stroke-linejoin=\"round\"/><path d=\"M44.97 17.885l-5.565 8.308-8.308-5.567\"/></g></svg>'\n\n      menu.div.appendChild(rotate.negative)\n      menu.div.appendChild(rotate.positive)\n    },\n\n    negativeRotate: function (event) {\n      img.transform({\n        rotate: images[currentIndex].rotate - 90\n      })\n\n      event.preventDefault()\n    },\n\n    positiveRotate: function (event) {\n      img.transform({\n        rotate: images[currentIndex].rotate + 90\n      })\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 33) {\n        rotate.positiveRotate(event)\n      }\n      if (event.keyCode === 34) {\n        rotate.negativeRotate(event)\n      }\n    },\n\n    addEventListeners: function () {\n      rotate.negative.addEventListener('click', rotate.negativeRotate)\n      rotate.positive.addEventListener('click', rotate.positiveRotate)\n\n      window.addEventListener('keydown', rotate.keydown)\n    },\n\n    removeEventListeners: function () {\n      rotate.negative.removeEventListener('click', rotate.negativeRotate)\n      rotate.positive.removeEventListener('click', rotate.positiveRotate)\n\n      window.removeEventListener('keydown', rotate.keydown)\n    }\n  }\n\n  var navigation = {\n    next: document.createElement('a'),\n    prev: document.createElement('a'),\n\n    append: function () {\n      navigation.next.id = 'kuvaify-next-button'\n      navigation.next.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M14.467 10l20 15-20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n      navigation.prev.id = 'kuvaify-prev-button'\n      navigation.prev.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M35.533 10l-20 15 20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n\n      overlay.element.appendChild(navigation.next)\n      overlay.element.appendChild(navigation.prev)\n    },\n\n    visibility: function (what) {\n      if (what === 'depends') {\n        if (nextIndex === null) {\n          navigation.next.classList.remove('visible')\n        } else {\n          navigation.next.classList.add('visible')\n        }\n        if (prevIndex === null) {\n          navigation.prev.classList.remove('visible')\n        } else {\n          navigation.prev.classList.add('visible')\n        }\n      }\n      if (what === 'hide') {\n        navigation.next.classList.remove('visible')\n        navigation.prev.classList.remove('visible')\n      }\n    },\n\n    getNext: function () {\n      if (nextIndex !== null) {\n        img.prepare(nextIndex)\n      }\n    },\n\n    getPrev: function () {\n      if (prevIndex !== null) {\n        img.prepare(prevIndex)\n      }\n    },\n\n    nextImg: function (event) {\n      navigation.getNext()\n\n      event.preventDefault()\n    },\n\n    prevImg: function (event) {\n      navigation.getPrev()\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 39) {\n        navigation.getNext(event)\n      }\n      if (event.keyCode === 37) {\n        navigation.getPrev(event)\n      }\n    },\n\n    addEventListeners: function () {\n      navigation.next.addEventListener('click', navigation.nextImg)\n      navigation.prev.addEventListener('click', navigation.prevImg)\n\n      window.addEventListener('keydown', navigation.keydown)\n    },\n\n    removeEventListeners: function () {\n      navigation.next.removeEventListener('click', navigation.nextImg)\n      navigation.prev.removeEventListener('click', navigation.prevImg)\n\n      window.removeEventListener('keydown', navigation.keydown)\n    }\n  }\n\n  var spinner = {\n    element: document.createElement('div'),\n\n    append: function () {\n      spinner.element.id = 'kuvaify-spinner'\n      spinner.element.innerHTML = '<div class=\"sk-folding-cube\"><div class=\"sk-cube1 sk-cube\"></div><div class=\"sk-cube2 sk-cube\"></div><div class=\"sk-cube4 sk-cube\"></div><div class=\"sk-cube3 sk-cube\"></div></div>'\n      spinner.element.style.transition = 'opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease'\n\n      overlay.element.appendChild(spinner.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        spinner.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        spinner.element.classList.remove('visible')\n      }\n    }\n  }\n\n  var closeDiv = {\n    element: document.createElement('div'),\n\n    append: function () {\n      closeDiv.element.id = 'kuvaify-close-div'\n\n      overlay.element.appendChild(closeDiv.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        closeDiv.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        closeDiv.element.classList.remove('visible')\n      }\n    },\n\n    click: function (event) {\n      close.close()\n\n      event.preventDefault()\n    },\n\n    addEventListeners: function () {\n      closeDiv.element.addEventListener('click', closeDiv.click)\n    },\n\n    removeEventListeners: function () {\n      closeDiv.element.removeEventListener('click', closeDiv.click)\n    }\n  }\n\n  return init\n})()\n"],"sourceRoot":"/source/"}