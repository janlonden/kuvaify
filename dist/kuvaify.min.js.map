{"version":3,"sources":["kuvaify.js"],"names":["kuvaify","options","linkElement","fileTypes","coverScreen","showShortcuts","transitionSpeed","transitionScale","zoomRatio","smallSize","mediumSize","body","document","images","currentIndex","nextIndex","prevIndex","screenWidth","clientWidth","screenHeight","clientHeight","setup","settings","constructor","Array","undefined","zoomScale","links","get","push","addEventListeners","init","linksCollection","querySelectorAll","linksArray","slice","call","join","regex","RegExp","forEach","link","pathname","match","img","addEventListener","event","index","indexOf","overlay","append","closeDiv","close","menu","navigation","spinner","current","prepare","setTimeout","visibility","preventDefault","element","createElement","focusStarted","focus","id","style","transition","appendChild","what","classList","add","remove","window","removeEventListeners","removeEventListener","href","smallHref","getAttribute","mediumHref","caption","scale","scaleRatio","rotate","offx","offy","loaded","left","top","innerHTML","replace","size","imgWidth","imgHeight","transform","show","src","thisIndex","contains","transformArgs","transformString","scaleValue","rotateValue","webkitTransform","msTransform","reset","click","div","wheel","wheelDelta","mousedown","clientX","offsetLeft","clientY","offsetTop","mousemove","move","requestAnimationFrame","mouseup","zoom","closeEvent","keydown","keyCode","button","help","divClick","_out","_in","zoomOut","zoomIn","negative","positive","negativeRotate","positiveRotate","next","prev","getNext","getPrev","nextImg","prevImg"],"mappings":"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","file":"kuvaify.min.js","sourcesContent":["var kuvaify = (function () {\n  'use strict'\n\n  var options = {\n    linkElement: 'body',\n    fileTypes: ['jpg', 'jpeg', 'png', 'gif'],\n    coverScreen: true,\n    showShortcuts: true,\n    transitionSpeed: 400,\n    transitionScale: 0.08,\n    zoomRatio: 0.2,\n    smallSize: 768,\n    mediumSize: 1280\n  }\n\n  var body = document.body\n  var images = []\n  var currentIndex = null\n  var nextIndex = null\n  var prevIndex = null\n  var screenWidth = body.clientWidth\n  var screenHeight = body.clientHeight\n\n  var setup = function (settings) {\n    if (settings.linkElement) {\n      if (typeof settings.linkElement === 'string') {\n        options.linkElement = settings.linkElement\n      }\n    }\n    if (settings.fileTypes) {\n      if (settings.fileTypes.constructor === Array) {\n        options.fileTypes = settings.fileTypes\n      }\n    }\n    if (settings.coverScreen !== undefined) {\n      if (settings.coverScreen === false) {\n        options.coverScreen = false\n      }\n    }\n    if (settings.showShortcuts !== undefined) {\n      if (settings.showShortcuts === false) {\n        options.showShortcuts = false\n      }\n    }\n    if (settings.transitionSpeed) {\n      if (typeof settings.transitionSpeed === 'number' && settings.transitionSpeed >= 100) {\n        options.transitionSpeed = settings.transitionSpeed\n      }\n    }\n    if (settings.transitionScale) {\n      if (typeof settings.transitionScale === 'number') {\n        options.transitionScale = settings.transitionScale\n      }\n      if (settings.transitionScale === 0) {\n        options.transitionScale = 0\n      }\n    }\n    if (settings.zoomScale) {\n      if (typeof settings.zoomScale === 'number') {\n        options.zoomScale = settings.zoomScale\n      }\n      if (settings.zoomScale === 0) {\n        options.zoomScale = 0\n      }\n    }\n    if (settings.smallSize) {\n      if (typeof settings.smallSize === 'number') {\n        options.smallSize = settings.smallSize\n      }\n    }\n    if (settings.mediumSize) {\n      if (typeof settings.mediumSize === 'number') {\n        options.mediumSize = settings.mediumSize\n      }\n    }\n\n    links.get()\n    links.push()\n    links.addEventListeners()\n  }\n\n  var init = function (settings) {\n    setup(settings)\n  }\n\n  var links = {\n    links: [],\n\n    get: function () {\n      var linksCollection = document.querySelectorAll(options.linkElement + ' a')\n      var linksArray = [].slice.call(linksCollection)\n      var fileTypes = options.fileTypes.join('|')\n      var regex = new RegExp('\\.(' + fileTypes + ')$');\n\n      linksArray.forEach(function (link) {\n        if (link.pathname.match(regex)) {\n          links.links.push(link)\n        }\n      })\n    },\n\n    push: function () {\n      links.links.forEach(function (link) {\n        img.push(link)\n      })\n    },\n\n    addEventListeners: function () {\n      links.links.forEach(function (link) {\n        link.addEventListener('click', function (event) {\n          var index = links.links.indexOf(link)\n\n          overlay.append()\n          closeDiv.append()\n          close.append()\n          menu.append()\n          navigation.append()\n          spinner.append()\n\n          overlay.addEventListeners()\n          closeDiv.addEventListeners()\n          menu.addEventListeners()\n          close.addEventListeners()\n          navigation.addEventListeners()\n\n          img.current(index)\n          img.prepare(index)\n\n          setTimeout(function () {\n            overlay.visibility('show')\n            close.visibility('show')\n            menu.visibility('show')\n            navigation.visibility('depends')\n          }, 100)\n\n          event.preventDefault()\n        })\n      })\n    }\n  }\n\n  var overlay = {\n    element: document.createElement('div'),\n    focusStarted: false,\n\n    focus: function (event) {\n      if (overlay.focusStarted === false) {\n        overlay.visibility('focus')\n\n        setTimeout(function () {\n          overlay.visibility('unfocus')\n\n          overlay.focusStarted = false\n        }, 2000)\n      }\n\n      overlay.focusStarted = true\n    },\n\n    append: function () {\n      overlay.element.id = 'kuvaify'\n      overlay.element.style.transition = 'opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease'\n\n      body.appendChild(overlay.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        overlay.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        overlay.element.classList.remove('visible')\n      }\n      if (what === 'focus') {\n        overlay.element.classList.add('focused')\n      }\n      if (what === 'unfocus') {\n        overlay.element.classList.remove('focused')\n      }\n    },\n\n    addEventListeners: function () {\n      window.addEventListener('mousemove', overlay.focus)\n    },\n\n    removeEventListeners: function () {\n      window.removeEventListener('mousemove', overlay.focus)\n    }\n  }\n\n  var img = {\n    push: function (link) {\n      var img = {\n        element: document.createElement('img'),\n        href: link.pathname,\n        smallHref: link.getAttribute('data-kuvaify-small') || null,\n        mediumHref: link.getAttribute('data-kuvaify-medium') || null,\n        caption: null,\n        scale: 1,\n        scaleRatio: options.zoomRatio,\n        rotate: 0,\n        offx: 0,\n        offy: 0,\n        transition: 'width ' + options.transitionSpeed + 'ms ease, height ' + options.transitionSpeed + 'ms ease, transform ' + options.transitionSpeed + 'ms ease, opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease',\n        loaded: false\n      }\n\n      img.element.style.transition = img.transition\n      img.element.style.left = null\n      img.element.style.top = null\n      img.element.classList.add('kuvaify-img')\n\n      if (link.getAttribute('data-kuvaify-caption')) {\n        img.caption = document.createElement('div')\n        img.caption.innerHTML = '<p>' + link.getAttribute('data-kuvaify-caption').replace(/<[^>]+>/ig,'') + '</p>'\n        img.caption.id = 'kuvaify-caption'\n        img.caption.style.transition = 'opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease'\n      }\n\n      images.push(img)\n    },\n\n    current: function (index) {\n      var img = images[index]\n\n      currentIndex = images.indexOf(img)\n\n      if (images[currentIndex + 1]) {\n        nextIndex = currentIndex + 1\n      } else {\n        nextIndex = null\n      }\n      if (images[currentIndex - 1]) {\n        prevIndex = currentIndex - 1\n      } else {\n        prevIndex = null\n      }\n    },\n\n    href: function () {\n      if (screenWidth < options.smallSize) {\n        return images[currentIndex].smallHref\n      }\n      if (screenWidth < options.mediumSize) {\n        return images[currentIndex].mediumHref\n      }\n\n      return images[currentIndex].href\n    },\n\n    size: function () {\n      var imgWidth = images[currentIndex].element.clientWidth\n      var imgHeight = images[currentIndex].element.clientHeight\n      var what\n\n      screenWidth = body.clientWidth\n      screenHeight = body.clientHeight\n\n      if (imgWidth < screenWidth && imgHeight < screenHeight) {\n        if (imgWidth > imgHeight) {\n          what = 'cover-vertically'\n        } else {\n          what = 'cover-horizontally'\n        }\n      } else {\n        if (imgWidth < screenWidth) {\n          what = 'cover-horizontally'\n        }\n        if (imgHeight < screenHeight) {\n          what = 'cover-vertically'\n        }\n      }\n\n      images[currentIndex].element.classList.add(what)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        images[currentIndex].element.classList.add('visible')\n\n        if (options.transitionScale > 0) {\n          img.transform({\n            scale: images[currentIndex].scale - options.transitionScale\n          })\n        }\n\n        if (images[currentIndex].caption) {\n          images[currentIndex].caption.classList.add('visible')\n        }\n      }\n      if (what === 'hide') {\n        images[currentIndex].element.classList.remove('visible')\n\n        if (images[currentIndex].caption) {\n          images[currentIndex].caption.classList.remove('visible')\n        }\n      }\n      if (what === 'measure') {\n        images[currentIndex].element.classList.add('measure')\n      }\n      if (what === 'measured') {\n        images[currentIndex].element.classList.remove('measure')\n      }\n    },\n\n    show: function () {\n      img.visibility('measure')\n\n      if (options.transitionScale > 0) {\n        img.transform({ scale: images[currentIndex].scale + options.transitionScale })\n      }\n      if (options.coverScreen) {\n        img.size()\n      }\n\n      setTimeout(function () {\n        img.visibility('show')\n\n        setTimeout(function () {\n          img.visibility('measured')\n        }, 100)\n      }, options.transitionSpeed / 4)\n    },\n\n    prepare: function (index) {\n      navigation.removeEventListeners()\n\n      img.visibility('hide')\n\n      img.current(index)\n\n      navigation.visibility('depends')\n\n      img.addEventListeners()\n\n      if (!images[currentIndex].element.src) {\n        ;(function (thisIndex) {\n          var thisIndex = thisIndex\n\n          spinner.visibility('show')\n\n          overlay.element.appendChild(images[thisIndex].element)\n\n          if (images[thisIndex].caption) {\n            overlay.element.appendChild(images[thisIndex].caption)\n          }\n\n          images[thisIndex].element.src = img.href()\n\n          images[thisIndex].element.addEventListener('load', function () {\n            images[thisIndex].loaded = true\n\n            spinner.visibility('hide')\n\n            if (thisIndex === currentIndex && overlay.element.classList.contains('visible')) {\n              img.show()\n            }\n          })\n        })(currentIndex)\n      } else {\n        if (images[currentIndex].loaded) {\n          spinner.visibility('hide')\n\n          img.show()\n        } else {\n          spinner.visibility('show')\n        }\n      }\n      setTimeout(function () {\n        navigation.addEventListeners()\n      }, options.transitionSpeed / 2)\n    },\n\n    transform: function (transformArgs) {\n      rotate.removeEventListeners()\n\n      var scaleValue = transformArgs.scale || images[currentIndex].scale\n      var rotateValue = transformArgs.rotate || images[currentIndex].rotate\n      var transformString\n\n      if (transformArgs.rotate === 0) {\n        rotateValue = 0\n      }\n\n      transformString = 'translate(-50%, -50%) scale(' + scaleValue + ') rotate(' + rotateValue + 'deg)'\n\n      images[currentIndex].scale = scaleValue\n      images[currentIndex].rotate = rotateValue\n      images[currentIndex].element.style.webkitTransform = transformString\n      images[currentIndex].element.style.msTransform = transformString\n      images[currentIndex].element.style.transform = transformString\n\n      setTimeout(function () {\n        rotate.addEventListeners()\n      }, options.transitionSpeed / 2)\n    },\n\n    reset: function () {\n      images[currentIndex].element.style.transition = images[currentIndex].transition + ', left ' + options.transitionSpeed + 'ms ease, top ' + options.transitionSpeed + 'ms ease'\n      images[currentIndex].element.style.left = null\n      images[currentIndex].element.style.top = null\n\n      setTimeout(function () {\n        images[currentIndex].element.style.transition = images[currentIndex].transition\n      }, options.transitionSpeed)\n\n      img.transform({\n        scale: 1,\n        rotate: 0\n      })\n    },\n\n    click: function (event) {\n      menu.div.classList.remove('visible')\n\n      event.preventDefault()\n    },\n\n    wheel: function (event) {\n      if (event.wheelDelta === 120) {\n        images[currentIndex].scale += images[currentIndex].scaleRatio\n      } else {\n        if (images[currentIndex].scale >= 0.4) {\n          images[currentIndex].scale -= images[currentIndex].scaleRatio\n        }\n      }\n\n      img.transform({\n        scale: images[currentIndex].scale\n      })\n\n      event.preventDefault()\n    },\n\n    mousedown: function (event) {\n      images[currentIndex].offx = event.clientX - images[currentIndex].element.offsetLeft\n      images[currentIndex].offy = event.clientY - images[currentIndex].element.offsetTop\n\n      window.addEventListener('mousemove', img.mousemove)\n\n      event.preventDefault()\n    },\n\n    mousemove: function (event) {\n      var move = function () {\n        images[currentIndex].element.style.left = event.clientX - images[currentIndex].offx + 'px'\n        images[currentIndex].element.style.top = event.clientY - images[currentIndex].offy + 'px'\n      }\n\n      window.requestAnimationFrame(move)\n    },\n\n    mouseup: function (event) {\n      window.removeEventListener('mousemove', img.mousemove)\n    },\n\n    addEventListeners: function () {\n      images[currentIndex].element.addEventListener('mousedown', img.mousedown)\n      images[currentIndex].element.addEventListener('click', img.click)\n\n      window.addEventListener('wheel', img.wheel)\n      window.addEventListener('mouseup', img.mouseup)\n\n      if (options.coverScreen) {\n        window.addEventListener('resize', img.size)\n      }\n    },\n\n    removeEventListeners: function () {\n      images[currentIndex].element.removeEventListener('mousedown', img.mousedown)\n      images[currentIndex].element.removeEventListener('click', img.click)\n\n      window.removeEventListener('wheel', img.wheel)\n      window.removeEventListener('mouseup', img.mouseup)\n\n      if (options.coverScreen) {\n        window.removeEventListener('resize', img.size)\n      }\n    }\n  }\n\n  var close = {\n    element: document.createElement('a'),\n\n    append: function () {\n      close.element.id = 'kuvaify-close-button',\n      close.element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 40l30-30M40 40L10 10\"/></g></svg>'\n\n      overlay.element.appendChild(close.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        close.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        close.element.classList.remove('visible')\n      }\n    },\n\n    close: function () {\n      overlay.visibility('hide')\n      closeDiv.visibility('hide')\n      img.visibility('hide')\n      close.visibility('hide')\n      menu.visibility('hide')\n      navigation.visibility('hide')\n      spinner.visibility('hide')\n\n      overlay.removeEventListeners()\n      closeDiv.removeEventListeners()\n      img.removeEventListeners()\n      menu.removeEventListeners()\n      reset.removeEventListeners()\n      zoom.removeEventListeners()\n      rotate.removeEventListeners()\n      navigation.removeEventListeners()\n    },\n\n    closeEvent: function (event) {\n      close.close()\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 27) {\n        close.closeEvent(event)\n      }\n    },\n\n    addEventListeners: function () {\n      close.element.addEventListener('click', close.closeEvent)\n\n      window.addEventListener('keydown', close.keydown)\n    },\n\n    removeEventListeners: function () {\n      close.element.removeEventListener('click', close.closeEvent)\n\n      window.removeEventListener('keydown', close.keydown)\n    }\n  }\n\n  var menu = {\n    button: document.createElement('a'),\n    div: document.createElement('div'),\n    help: document.createElement('p'),\n\n    append: function () {\n      menu.button.id = 'kuvaify-menu-button'\n      menu.button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 11h30M10 25h30M10 39h30\"/></g></svg>'\n      menu.div.id = 'kuvaify-menu-div'\n      menu.help.id = 'kuvaify-help'\n      menu.help.innerHTML = 'Desktop users can use the <strong>left</strong> and <strong>right</strong> keys to navigate; <strong>up</strong> and <strong>down</strong> or <strong>scroll</strong> to zoom; <strong>page up</strong> and <strong>page down</strong> to rotate; <strong>click</strong> and <strong>drag</strong> to move; <strong>home</strong> to reset; and <strong>esc</strong> to close.'\n\n      rotate.append()\n      zoom.append()\n      reset.append()\n\n      if (options.showShortcuts && screenWidth > 1280) {\n        menu.div.appendChild(menu.help)\n      }\n\n      overlay.element.appendChild(menu.button)\n      overlay.element.appendChild(menu.div)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        menu.button.classList.add('visible')\n      }\n      if (what === 'hide') {\n        menu.button.classList.remove('visible')\n        menu.div.classList.remove('visible')\n      }\n    },\n\n    click: function (event) {\n      if (!menu.div.classList.contains('visible')) {\n        menu.div.classList.add('visible')\n      } else {\n        menu.div.classList.remove('visible')\n      }\n\n      event.preventDefault()\n    },\n\n    divClick: function (event) {\n      menu.div.classList.remove('visible')\n\n      event.preventDefault()\n    },\n\n    addEventListeners: function () {\n      menu.button.addEventListener('click', menu.click)\n\n      rotate.addEventListeners()\n      zoom.addEventListeners()\n      reset.addEventListeners()\n    },\n\n    removeEventListeners: function () {\n      menu.button.removeEventListener('click', menu.click)\n\n      rotate.removeEventListeners()\n      zoom.removeEventListeners()\n      reset.removeEventListeners()\n    }\n  }\n\n  var reset = {\n    element: document.createElement('a'),\n\n    append: function () {\n      reset.element.id = 'kuvaify-reset-button',\n      reset.element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M21.62 28.38L10.31 39.69M12 28h10v10\"/><g><path d=\"M28.38 21.62L39.69 10.31M38 22H28V12\"/></g></g></svg>'\n\n      menu.div.appendChild(reset.element)\n    },\n\n    reset: function (event) {\n      img.reset()\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 36) {\n        reset.reset(event)\n      }\n    },\n\n    addEventListeners: function () {\n      reset.element.addEventListener('click', reset.reset)\n\n      window.addEventListener('keydown', reset.keydown)\n    },\n\n    removeEventListeners: function () {\n      reset.element.removeEventListener('click', reset.reset)\n\n      window.removeEventListener('keydown', reset.keydown)\n    }\n  }\n\n  var zoom = {\n    _out: document.createElement('a'),\n    _in: document.createElement('a'),\n\n    append: function () {\n      zoom._out.id = 'kuvaify-zoom-out-button',\n      zoom._out.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M40 25H10\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n      zoom._in.id = 'kuvaify-zoom-in-button',\n      zoom._in.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"><path d=\"M25 40V10M40 25H10\"/></g></svg>'\n\n      menu.div.appendChild(zoom._out)\n      menu.div.appendChild(zoom._in)\n    },\n\n    zoomOut: function (event) {\n      if (images[currentIndex].scale >= 0.4) {\n        images[currentIndex].scale -= images[currentIndex].scaleRatio\n      }\n\n      img.transform({\n        scale: images[currentIndex].scale\n      })\n\n      event.preventDefault()\n    },\n\n    zoomIn: function (event) {\n      images[currentIndex].scale += images[currentIndex].scaleRatio\n\n      img.transform({\n        scale: images[currentIndex].scale\n      })\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 38) {\n        zoom.zoomIn(event)\n      }\n      if (event.keyCode === 40) {\n        zoom.zoomOut(event)\n      }\n    },\n\n    addEventListeners: function () {\n      zoom._out.addEventListener('click', zoom.zoomOut)\n      zoom._in.addEventListener('click', zoom.zoomIn)\n\n      window.addEventListener('keydown', zoom.keydown)\n    },\n\n    removeEventListeners: function () {\n      zoom._out.removeEventListener('click', zoom.zoomOut)\n      zoom._in.removeEventListener('click', zoom.zoomIn)\n\n      window.removeEventListener('keydown', zoom.keydown)\n    }\n  }\n\n  var rotate = {\n    negative: document.createElement('a'),\n    positive: document.createElement('a'),\n\n    append: function () {\n      rotate.negative.id = 'kuvaify-rotate-negative-button',\n      rotate.negative.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14\" stroke-linejoin=\"round\"/><path d=\"M5.03 17.885l5.565 8.308 8.308-5.567\"/></g></svg>'\n      rotate.positive.id = 'kuvaify-rotate-positive-button',\n      rotate.positive.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14\" stroke-linejoin=\"round\"/><path d=\"M44.97 17.885l-5.565 8.308-8.308-5.567\"/></g></svg>'\n\n      menu.div.appendChild(rotate.negative)\n      menu.div.appendChild(rotate.positive)\n    },\n\n    negativeRotate: function (event) {\n      img.transform({\n        rotate: images[currentIndex].rotate - 90\n      })\n\n      event.preventDefault()\n    },\n\n    positiveRotate: function (event) {\n      img.transform({\n        rotate: images[currentIndex].rotate + 90\n      })\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 33) {\n        rotate.positiveRotate(event)\n      }\n      if (event.keyCode === 34) {\n        rotate.negativeRotate(event)\n      }\n    },\n\n    addEventListeners: function () {\n      rotate.negative.addEventListener('click', rotate.negativeRotate)\n      rotate.positive.addEventListener('click', rotate.positiveRotate)\n\n      window.addEventListener('keydown', rotate.keydown)\n    },\n\n    removeEventListeners: function () {\n      rotate.negative.removeEventListener('click', rotate.negativeRotate)\n      rotate.positive.removeEventListener('click', rotate.positiveRotate)\n\n      window.removeEventListener('keydown', rotate.keydown)\n    }\n  }\n\n  var navigation = {\n    next: document.createElement('a'),\n    prev: document.createElement('a'),\n\n    append: function () {\n      navigation.next.id = 'kuvaify-next-button'\n      navigation.next.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M14.467 10l20 15-20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n      navigation.prev.id = 'kuvaify-prev-button'\n      navigation.prev.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M35.533 10l-20 15 20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n\n      overlay.element.appendChild(navigation.next)\n      overlay.element.appendChild(navigation.prev)\n    },\n\n    visibility: function (what) {\n      if (what === 'depends') {\n        if (nextIndex === null) {\n          navigation.next.classList.remove('visible')\n        } else {\n          navigation.next.classList.add('visible')\n        }\n        if (prevIndex === null) {\n          navigation.prev.classList.remove('visible')\n        } else {\n          navigation.prev.classList.add('visible')\n        }\n      }\n      if (what === 'hide') {\n        navigation.next.classList.remove('visible')\n        navigation.prev.classList.remove('visible')\n      }\n    },\n\n    getNext: function () {\n      if (nextIndex !== null) {\n        img.prepare(nextIndex)\n      }\n    },\n\n    getPrev: function () {\n      if (prevIndex !== null) {\n        img.prepare(prevIndex)\n      }\n    },\n\n    nextImg: function (event) {\n      navigation.getNext()\n\n      event.preventDefault()\n    },\n\n    prevImg: function (event) {\n      navigation.getPrev()\n\n      event.preventDefault()\n    },\n\n    keydown: function (event) {\n      if (event.keyCode === 39) {\n        navigation.getNext(event)\n      }\n      if (event.keyCode === 37) {\n        navigation.getPrev(event)\n      }\n    },\n\n    addEventListeners: function () {\n      navigation.next.addEventListener('click', navigation.nextImg)\n      navigation.prev.addEventListener('click', navigation.prevImg)\n\n      window.addEventListener('keydown', navigation.keydown)\n    },\n\n    removeEventListeners: function () {\n      navigation.next.removeEventListener('click', navigation.nextImg)\n      navigation.prev.removeEventListener('click', navigation.prevImg)\n\n      window.removeEventListener('keydown', navigation.keydown)\n    }\n  }\n\n  var spinner = {\n    element: document.createElement('div'),\n\n    append: function () {\n      spinner.element.id = 'kuvaify-spinner'\n      spinner.element.innerHTML = '<div class=\"sk-folding-cube\"><div class=\"sk-cube1 sk-cube\"></div><div class=\"sk-cube2 sk-cube\"></div><div class=\"sk-cube4 sk-cube\"></div><div class=\"sk-cube3 sk-cube\"></div></div>'\n      spinner.element.style.transition = 'opacity ' + options.transitionSpeed + 'ms ease, visibility ' + options.transitionSpeed + 'ms ease'\n\n      overlay.element.appendChild(spinner.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        spinner.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        spinner.element.classList.remove('visible')\n      }\n    }\n  }\n\n  var closeDiv = {\n    element: document.createElement('div'),\n\n    append: function () {\n      closeDiv.element.id = 'kuvaify-close-div'\n\n      overlay.element.appendChild(closeDiv.element)\n    },\n\n    visibility: function (what) {\n      if (what === 'show') {\n        closeDiv.element.classList.add('visible')\n      }\n      if (what === 'hide') {\n        closeDiv.element.classList.remove('visible')\n      }\n    },\n\n    click: function (event) {\n      close.close()\n\n      event.preventDefault()\n    },\n\n    addEventListeners: function () {\n      closeDiv.element.addEventListener('click', closeDiv.click)\n    },\n\n    removeEventListeners: function () {\n      closeDiv.element.removeEventListener('click', closeDiv.click)\n    }\n  }\n\n  return init\n})()\n"],"sourceRoot":"/source/"}