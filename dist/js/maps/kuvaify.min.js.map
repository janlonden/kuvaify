{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/close-div.js","kuvaify.min.js","src/js/close.js","src/js/img.js","src/js/kuvaify.js","src/js/menu.js","src/js/navigation.js","src/js/overlay.js","src/js/prototype.js","src/js/reset.js","src/js/rotate.js","src/js/setup.js","src/js/spinner.js","src/js/zoom.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Object","defineProperty","value","init","parent","this","element","document","createElement","append","className","overlay","appendChild","visibility","what","classList","add","remove","click","event","close","preventDefault","addEventListeners","addEventListener","removeEventListeners","removeEventListener",2,"innerHTML","systemsReady","closed","closeDiv","img","hide","currentIndex","menu","navigation","spinner","reset","zoom","rotate","keydown","keyCode","window",3,"images","options","firefox","navigator","userAgent","indexOf","href","index","screenWidth","smallSize","smallHref","mediumSize","mediumHref","size","body","imgWidth","clientWidth","imgHeight","clientHeight","screenHeight","caption","get","src","loaded","coverScreen","show","setTimeout","transitionScale","transform","scaleValue","scale","transitionSpeed","transitionOverlap","prepare","navigated","oldIndex","setCurrent","next","nextIndex","prev","prevIndex","_ref","_ref$scaleValue","undefined","_ref$rotateValue","rotateValue","transformString","style","webkitTransform","msTransform","transition","left","top","div","dblclick","wheel","delta","detail","wheelDelta","positive","negative","scaleRatio","mousedown","offx","clientX","offsetLeft","offy","clientY","offsetTop","mousemove","move","requestAnimationFrame","mouseup","resize","forEach","addResizeListener",4,"_interopRequireDefault","obj","__esModule","default","_setup","_setup2","_overlay","_overlay2","_img","_img2","_close","_close2","_menu","_menu2","_reset","_reset2","_zoom","_zoom2","_rotate","_rotate2","_navigation","_navigation2","_spinner","_spinner2","_closeDiv","_closeDiv2","_prototype","_prototype2","kuvaify","settings","arguments","opt","links","prototype","pushImage","./close","./close-div","./img","./menu","./navigation","./overlay","./prototype","./reset","./rotate","./setup","./spinner","./zoom",5,"button","help","showShortcuts","contains",6,"getNext","getPrev","nextImg","prevImg",7,"focusStarted","focus",8,"link","pathname","getAttribute","zoomRatio","replace","push",9,10,"negativeRotate","positiveRotate",11,"linkElement","fileTypes","constructor","Array","zoomScale","_this","linksCollection","querySelectorAll","slice","join","RegExp",12,13,"_out","_in","zoomOut","zoomIn"],"mappings":"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","file":"kuvaify.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\n\nlet init = function () {\n  let parent = this\n  let element = document.createElement('div')\n\n  let append = () => {\n    element.className = 'kuvaify-close-div'\n\n    parent.overlay.element.appendChild(element)\n  }\n\n  let visibility = what => {\n    if (what === 'visible') {\n      element.classList.add('visible')\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible')\n    }\n  }\n\n  let click = event => {\n    parent.close.close()\n\n    event.preventDefault()\n  }\n\n  let addEventListeners = () => {\n    element.addEventListener('click', click)\n  }\n\n  let removeEventListeners = () => {\n    element.removeEventListener('click', click)\n  }\n\n  return {\n    append,\n    visibility,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var element = document.createElement('div');\n\n  var append = function append() {\n    element.className = 'kuvaify-close-div';\n\n    parent.overlay.element.appendChild(element);\n  };\n\n  var visibility = function visibility(what) {\n    if (what === 'visible') {\n      element.classList.add('visible');\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible');\n    }\n  };\n\n  var click = function click(event) {\n    parent.close.close();\n\n    event.preventDefault();\n  };\n\n  var addEventListeners = function addEventListeners() {\n    element.addEventListener('click', click);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    element.removeEventListener('click', click);\n  };\n\n  return {\n    append: append,\n    visibility: visibility,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var element = document.createElement('a');\n\n  var append = function append() {\n    element.className = 'kuvaify-close-button', element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 40l30-30M40 40L10 10\"/></g></svg>';\n\n    parent.overlay.element.appendChild(element);\n  };\n\n  var visibility = function visibility(what) {\n    if (what === 'visible') {\n      element.classList.add('visible');\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible');\n    }\n  };\n\n  var close = function close() {\n    if (parent.systemsReady) {\n      parent.closed = true;\n\n      parent.overlay.visibility('hidden');\n      parent.closeDiv.visibility('hidden');\n      parent.img.hide(parent.currentIndex);\n      visibility('hidden');\n      parent.menu.visibility('hidden');\n      parent.navigation.visibility('hidden');\n      parent.spinner.visibility('hidden');\n\n      parent.overlay.removeEventListeners();\n      parent.closeDiv.removeEventListeners();\n      parent.img.removeEventListeners();\n      removeEventListeners();\n      parent.menu.removeEventListeners();\n      parent.reset.removeEventListeners();\n      parent.zoom.removeEventListeners();\n      parent.rotate.removeEventListeners();\n      parent.navigation.removeEventListeners();\n\n      parent.systemsReady = false;\n    }\n  };\n\n  var click = function click(event) {\n    close();\n\n    event.preventDefault();\n  };\n\n  var keydown = function keydown(event) {\n    if (event.keyCode === 27) {\n      click(event);\n    }\n  };\n\n  var addEventListeners = function addEventListeners() {\n    element.addEventListener('click', click);\n\n    window.addEventListener('keydown', keydown);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    element.removeEventListener('click', click);\n\n    window.removeEventListener('keydown', keydown);\n  };\n\n  return {\n    append: append,\n    visibility: visibility,\n    close: close,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var images = parent.images;\n  var options = parent.options;\n  var firefox = navigator.userAgent.indexOf('Firefox') !== -1 ? true : false;\n\n  var href = function href(index) {\n    var img = images[index];\n\n    if (parent.screenWidth < options.smallSize) {\n      return img.smallHref;\n    }\n    if (parent.screenWidth < options.mediumSize) {\n      return img.mediumHref;\n    }\n\n    return img.href;\n  };\n\n  var size = function size(index) {\n    (function (index) {\n      var img = images[index].element;\n      var body = parent.body;\n      var imgWidth = img.clientWidth;\n      var imgHeight = img.clientHeight;\n\n      parent.screenWidth = body.clientWidth;\n      parent.screenHeight = body.clientHeight;\n\n      if (imgWidth < parent.screenWidth && imgHeight < parent.screenHeight) {\n        if (imgWidth > imgHeight) {\n          img.classList.remove('cover-horizontally');\n          img.classList.add('cover-vertically');\n        } else {\n          img.classList.remove('cover-vertically');\n          img.classList.add('cover-horizontally');\n        }\n      } else {\n        if (imgWidth < parent.screenWidth) {\n          img.classList.remove('cover-vertically');\n          img.classList.add('cover-horizontally');\n        }\n        if (imgHeight < parent.screenHeight) {\n          img.classList.remove('cover-horizontally');\n          img.classList.add('cover-vertically');\n        }\n      }\n    })(index);\n  };\n\n  var visibility = function visibility(what, index) {\n    (function (what, index) {\n      var img = images[index];\n\n      if (what === 'visible') {\n        img.element.classList.add('visible');\n\n        if (img.caption) {\n          img.caption.classList.add('visible');\n        }\n      }\n      if (what === 'hidden') {\n        img.element.classList.remove('visible');\n\n        if (img.caption) {\n          img.caption.classList.remove('visible');\n        }\n      }\n    })(what, index);\n  };\n\n  var get = function get(index) {\n    (function (index) {\n      var img = images[index];\n      var overlay = parent.overlay.element;\n      var spinner = parent.spinner;\n\n      spinner.visibility('visible');\n\n      overlay.appendChild(img.element);\n\n      img.element.src = href(index);\n\n      if (img.caption) {\n        overlay.appendChild(img.caption);\n      }\n\n      hide(index);\n\n      img.element.addEventListener('load', function () {\n        img.loaded = true;\n\n        if (options.coverScreen) {\n          size(index);\n        }\n\n        spinner.visibility('hidden');\n\n        if (index === parent.currentIndex && !parent.closed) {\n          show(index);\n        }\n      });\n    })(index);\n  };\n\n  var show = function show(index) {\n    (function (index) {\n      var img = images[index];\n\n      setTimeout(function () {\n        visibility('visible', index);\n\n        if (options.transitionScale > 0) {\n          transform(index, {\n            scaleValue: img.scale - options.transitionScale\n          });\n        }\n      }, options.transitionSpeed * options.transitionOverlap);\n    })(index);\n  };\n\n  var hide = function hide(index) {\n    (function (index) {\n      var img = images[index];\n\n      visibility('hidden', index);\n\n      if (options.transitionScale > 0) {\n        transform(index, {\n          scaleValue: img.scale + options.transitionScale\n        });\n      }\n    })(index);\n  };\n\n  var prepare = function prepare(index, navigated) {\n    var img = images[index];\n    var navigation = parent.navigation;\n    var spinner = parent.spinner;\n\n    navigation.removeEventListeners();\n\n    if (navigated) {\n      removeEventListeners();\n\n      hide(parent.oldIndex);\n\n      parent.setCurrent(index);\n    } else {\n      parent.setCurrent(index);\n    }\n\n    var next = parent.nextIndex;\n    var prev = parent.prevIndex;\n\n    if (next) {\n      if (!images[next].loaded) {\n        get(next);\n      }\n    }\n    if (prev) {\n      if (!images[prev].loaded) {\n        get(prev);\n      }\n    }\n\n    addEventListeners();\n\n    if (!img.element.src) {\n      get(index);\n    } else {\n      if (img.loaded) {\n        spinner.visibility('hidden');\n\n        show(index);\n      } else {\n        spinner.visibility('visible');\n      }\n    }\n\n    setTimeout(function () {\n      navigation.visibility('depends');\n      navigation.addEventListeners();\n    }, options.transitionSpeed / 2);\n  };\n\n  var transform = function transform(index, _ref) {\n    var _ref$scaleValue = _ref.scaleValue;\n    var scaleValue = _ref$scaleValue === undefined ? images[index].scale : _ref$scaleValue;\n    var _ref$rotateValue = _ref.rotateValue;\n    var rotateValue = _ref$rotateValue === undefined ? images[index].rotate : _ref$rotateValue;\n\n    (function (index, scaleValue, rotateValue) {\n      var img = images[index];\n\n      parent.rotate.removeEventListeners();\n\n      var transformString = 'translate(-50%, -50%) scale(' + scaleValue + ') rotate(' + rotateValue + 'deg)';\n\n      img.scale = scaleValue;\n      img.rotate = rotateValue;\n      img.element.style.webkitTransform = transformString;\n      img.element.style.msTransform = transformString;\n      img.element.style.transform = transformString;\n\n      setTimeout(function () {\n        parent.rotate.addEventListeners();\n      }, options.transitionSpeed / 2);\n    })(index, scaleValue, rotateValue);\n  };\n\n  var reset = function reset(index) {\n    var img = images[index];\n\n    img.element.style.transition = img.transition + ', left 400ms ease, top 400ms ease';\n    img.element.style.left = null;\n    img.element.style.top = null;\n\n    setTimeout(function () {\n      img.element.style.transition = img.transition;\n    }, options.transitionSpeed);\n\n    transform(index, {\n      scaleValue: 1,\n      rotateValue: 0\n    });\n  };\n\n  var click = function click(event) {\n    parent.menu.div.classList.remove('visible');\n\n    event.preventDefault();\n  };\n\n  var dblclick = function dblclick(event) {\n    reset(parent.currentIndex);\n\n    event.preventDefault();\n  };\n\n  var wheel = function wheel(event) {\n    var img = images[parent.currentIndex];\n    var delta = firefox ? event.detail : event.wheelDelta;\n    var positive = firefox ? delta < 0 : delta > 0;\n    var negative = firefox ? delta > 0 : delta < 0;\n\n    if (positive) {\n      img.scale += img.scaleRatio;\n    }\n    if (negative) {\n      if (img.scale >= 0.001) {\n        img.scale -= img.scaleRatio;\n      }\n    }\n\n    transform(parent.currentIndex, {\n      scaleValue: img.scale\n    });\n\n    event.preventDefault();\n  };\n\n  var mousedown = function mousedown(event) {\n    var img = images[parent.currentIndex];\n\n    img.offx = event.clientX - img.element.offsetLeft;\n    img.offy = event.clientY - img.element.offsetTop;\n\n    window.addEventListener('mousemove', mousemove);\n\n    event.preventDefault();\n  };\n\n  var mousemove = function mousemove(event) {\n    var img = images[parent.currentIndex];\n\n    var move = function move() {\n      img.element.style.left = event.clientX - img.offx + 'px';\n      img.element.style.top = event.clientY - img.offy + 'px';\n    };\n\n    window.requestAnimationFrame(move);\n  };\n\n  var mouseup = function mouseup(event) {\n    window.removeEventListener('mousemove', mousemove);\n  };\n\n  var addEventListeners = function addEventListeners() {\n    var img = images[parent.currentIndex];\n\n    img.element.addEventListener('mousedown', mousedown);\n    img.element.addEventListener('click', click);\n    img.element.addEventListener('dblclick', dblclick);\n\n    if (firefox) {\n      window.addEventListener('DOMMouseScroll', wheel);\n    } else {\n      window.addEventListener('mousewheel', wheel);\n    }\n    window.addEventListener('mouseup', mouseup);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    var img = images[parent.currentIndex];\n\n    img.element.removeEventListener('mousedown', mousedown);\n    img.element.removeEventListener('click', click);\n    img.element.removeEventListener('dblclick', dblclick);\n\n    if (firefox) {\n      window.removeEventListener('DOMMouseScroll', wheel);\n    } else {\n      window.removeEventListener('mousewheel', wheel);\n    }\n    window.removeEventListener('mouseup', mouseup);\n  };\n\n  var resize = function resize(event) {\n    images.forEach(function (img) {\n      var index = images.indexOf(img);\n\n      size(index);\n    });\n  };\n\n  var addResizeListener = function addResizeListener() {\n    if (options.coverScreen) {\n      window.addEventListener('resize', resize);\n    }\n  };\n\n  return {\n    hide: hide,\n    prepare: prepare,\n    transform: transform,\n    reset: reset,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners,\n    addResizeListener: addResizeListener\n  };\n};\n\nexports.default = init;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar _setup = require('./setup');\n\nvar _setup2 = _interopRequireDefault(_setup);\n\nvar _overlay = require('./overlay');\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nvar _img = require('./img');\n\nvar _img2 = _interopRequireDefault(_img);\n\nvar _close = require('./close');\n\nvar _close2 = _interopRequireDefault(_close);\n\nvar _menu = require('./menu');\n\nvar _menu2 = _interopRequireDefault(_menu);\n\nvar _reset = require('./reset');\n\nvar _reset2 = _interopRequireDefault(_reset);\n\nvar _zoom = require('./zoom');\n\nvar _zoom2 = _interopRequireDefault(_zoom);\n\nvar _rotate = require('./rotate');\n\nvar _rotate2 = _interopRequireDefault(_rotate);\n\nvar _navigation = require('./navigation');\n\nvar _navigation2 = _interopRequireDefault(_navigation);\n\nvar _spinner = require('./spinner');\n\nvar _spinner2 = _interopRequireDefault(_spinner);\n\nvar _closeDiv = require('./close-div');\n\nvar _closeDiv2 = _interopRequireDefault(_closeDiv);\n\nvar _prototype = require('./prototype');\n\nvar _prototype2 = _interopRequireDefault(_prototype);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar kuvaify = function kuvaify() {\n  var settings = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  this.images = [];\n  this.currentIndex = null;\n  this.nextIndex = null;\n  this.prevIndex = null;\n  this.oldIndex = null;\n  this.body = document.body;\n  this.screenWidth = this.body.clientWidth;\n  this.screenHeight = this.body.clientHeight;\n  this.closed = false;\n  this.systemsReady = false;\n  this.options = _setup2.default.opt(settings);\n  this.links = _setup2.default.links.call(this);\n\n  this.overlay = _overlay2.default.call(this);\n  this.closeDiv = _closeDiv2.default.call(this);\n  this.img = _img2.default.call(this);\n  this.close = _close2.default.call(this);\n  this.menu = _menu2.default.call(this);\n  this.reset = _reset2.default.call(this);\n  this.zoom = _zoom2.default.call(this);\n  this.rotate = _rotate2.default.call(this);\n  this.navigation = _navigation2.default.call(this);\n  this.spinner = _spinner2.default.call(this);\n\n  this.img.addResizeListener();\n};\n\nkuvaify.prototype.pushImage = _prototype2.default.pushImage;\nkuvaify.prototype.setCurrent = _prototype2.default.setCurrent;\n\nvar init = function init(settings) {\n  new kuvaify(settings);\n};\n\nwindow.kuvaify = init;\n\n},{\"./close\":2,\"./close-div\":1,\"./img\":3,\"./menu\":5,\"./navigation\":6,\"./overlay\":7,\"./prototype\":8,\"./reset\":9,\"./rotate\":10,\"./setup\":11,\"./spinner\":12,\"./zoom\":13}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var button = document.createElement('a');\n  var div = document.createElement('div');\n  var help = document.createElement('p');\n\n  var append = function append() {\n    button.className = 'kuvaify-menu-button';\n    button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 11h30M10 25h30M10 39h30\"/></g></svg>';\n    div.className = 'kuvaify-menu-div';\n    help.className = 'kuvaify-help';\n    help.innerHTML = 'Desktop users can use the <strong>left</strong> and <strong>right</strong> keys to navigate; <strong>up</strong> and <strong>down</strong> or <strong>scroll</strong> to zoom; <strong>page up</strong> and <strong>page down</strong> to rotate; <strong>click</strong> and <strong>drag</strong> to move; <strong>home</strong> or <strong>double click</strong> to reset; and <strong>esc</strong> to close.';\n\n    parent.rotate.append();\n    parent.zoom.append();\n    parent.reset.append();\n\n    if (parent.options.showShortcuts && parent.screenWidth > 1280) {\n      div.appendChild(help);\n    }\n\n    parent.overlay.element.appendChild(button);\n    parent.overlay.element.appendChild(div);\n  };\n\n  var visibility = function visibility(what) {\n    if (what === 'visible') {\n      button.classList.add('visible');\n    }\n    if (what === 'hidden') {\n      button.classList.remove('visible');\n      div.classList.remove('visible');\n    }\n  };\n\n  var click = function click(event) {\n    if (!div.classList.contains('visible')) {\n      div.classList.add('visible');\n    } else {\n      div.classList.remove('visible');\n    }\n\n    event.preventDefault();\n  };\n\n  var divClick = function divClick(event) {\n    div.classList.remove('visible');\n\n    event.preventDefault();\n  };\n\n  var addEventListeners = function addEventListeners() {\n    button.addEventListener('click', click);\n\n    parent.rotate.addEventListeners();\n    parent.zoom.addEventListeners();\n    parent.reset.addEventListeners();\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    button.removeEventListener('click', click);\n\n    parent.rotate.removeEventListeners();\n    parent.zoom.removeEventListeners();\n    parent.reset.removeEventListeners();\n  };\n\n  return {\n    div: div,\n    append: append,\n    visibility: visibility,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var next = document.createElement('a');\n  var prev = document.createElement('a');\n\n  var append = function append() {\n    next.className = 'kuvaify-next-button';\n    next.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M14.467 10l20 15-20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>';\n    prev.className = 'kuvaify-prev-button';\n    prev.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M35.533 10l-20 15 20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>';\n\n    parent.overlay.element.appendChild(next);\n    parent.overlay.element.appendChild(prev);\n  };\n\n  var visibility = function visibility(what) {\n    if (what === 'depends') {\n      if (parent.nextIndex === null) {\n        next.classList.remove('visible');\n      } else {\n        next.classList.add('visible');\n      }\n      if (parent.prevIndex === null) {\n        prev.classList.remove('visible');\n      } else {\n        prev.classList.add('visible');\n      }\n    }\n    if (what === 'hidden') {\n      next.classList.remove('visible');\n      prev.classList.remove('visible');\n    }\n  };\n\n  var getNext = function getNext() {\n    parent.oldIndex = parent.currentIndex;\n\n    if (parent.nextIndex !== null) {\n      parent.img.prepare(parent.nextIndex, 'navigated');\n    }\n  };\n\n  var getPrev = function getPrev() {\n    parent.oldIndex = parent.currentIndex;\n\n    if (parent.prevIndex !== null) {\n      parent.img.prepare(parent.prevIndex, 'navigated');\n    }\n  };\n\n  var nextImg = function nextImg(event) {\n    getNext();\n\n    event.preventDefault();\n  };\n\n  var prevImg = function prevImg(event) {\n    getPrev();\n\n    event.preventDefault();\n  };\n\n  var keydown = function keydown(event) {\n    if (event.keyCode === 39) {\n      getNext(event);\n    }\n    if (event.keyCode === 37) {\n      getPrev(event);\n    }\n  };\n\n  var addEventListeners = function addEventListeners() {\n    next.addEventListener('click', nextImg);\n    prev.addEventListener('click', prevImg);\n\n    window.addEventListener('keydown', keydown);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    next.removeEventListener('click', nextImg);\n    prev.removeEventListener('click', prevImg);\n\n    window.removeEventListener('keydown', keydown);\n  };\n\n  return {\n    append: append,\n    visibility: visibility,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var element = document.createElement('div');\n  var focusStarted = false;\n\n  var focus = function focus(event) {\n    if (focusStarted === false) {\n      visibility('focused');\n\n      setTimeout(function () {\n        visibility('unfocused');\n\n        focusStarted = false;\n      }, 2000);\n    }\n\n    focusStarted = true;\n  };\n\n  var append = function append() {\n    element.className = 'kuvaify';\n    element.style.transition = 'opacity 400ms ease, visibility 400ms ease';\n\n    parent.body.appendChild(element);\n  };\n\n  var visibility = function visibility(what) {\n    if (what === 'visible') {\n      element.classList.add('visible');\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible');\n    }\n    if (what === 'focused') {\n      element.classList.add('focused');\n    }\n    if (what === 'unfocused') {\n      element.classList.remove('focused');\n    }\n  };\n\n  var addEventListeners = function addEventListeners() {\n    window.addEventListener('mousemove', focus);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    window.removeEventListener('mousemove', focus);\n  };\n\n  return {\n    element: element,\n    append: append,\n    visibility: visibility,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar pushImage = function pushImage(link) {\n  var img = {\n    element: document.createElement('img'),\n    href: link.pathname,\n    smallHref: link.getAttribute('data-kuvaify-small') || null,\n    mediumHref: link.getAttribute('data-kuvaify-medium') || null,\n    caption: null,\n    scale: 1,\n    scaleRatio: this.options.zoomRatio,\n    rotate: 0,\n    offx: 0,\n    offy: 0,\n    transition: 'width ' + this.options.transitionSpeed + 'ms ease, height ' + this.options.transitionSpeed + 'ms ease, transform ' + this.options.transitionSpeed + 'ms ease, opacity ' + this.options.transitionSpeed + 'ms ease, visibility ' + this.options.transitionSpeed + 'ms ease',\n    loaded: false\n  };\n\n  img.element.style.transition = img.transition;\n  img.element.style.left = null;\n  img.element.style.top = null;\n  img.element.classList.add('kuvaify-img');\n\n  if (link.getAttribute('data-kuvaify-caption')) {\n    img.caption = document.createElement('div');\n    img.caption.innerHTML = '<p>' + link.getAttribute('data-kuvaify-caption').replace(/<[^>]+>/ig, '') + '</p>';\n    img.caption.className = 'kuvaify-caption';\n    img.caption.style.transition = 'opacity ' + this.options.transitionSpeed + 'ms ease';\n  }\n\n  this.images.push(img);\n};\n\nvar setCurrent = function setCurrent(index) {\n  var img = this.images[index];\n\n  this.currentIndex = this.images.indexOf(img);\n\n  if (this.images[this.currentIndex + 1]) {\n    this.nextIndex = this.currentIndex + 1;\n  } else {\n    this.nextIndex = null;\n  }\n  if (this.images[this.currentIndex - 1]) {\n    this.prevIndex = this.currentIndex - 1;\n  } else {\n    this.prevIndex = null;\n  }\n};\n\nexports.default = {\n  pushImage: pushImage,\n  setCurrent: setCurrent\n};\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var element = document.createElement('a');\n\n  var append = function append() {\n    element.className = 'kuvaify-reset-button', element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M21.62 28.38L10.31 39.69M12 28h10v10\"/><g><path d=\"M28.38 21.62L39.69 10.31M38 22H28V12\"/></g></g></svg>';\n\n    parent.menu.div.appendChild(element);\n  };\n\n  var click = function click(event) {\n    parent.img.reset(parent.currentIndex);\n\n    event.preventDefault();\n  };\n\n  var keydown = function keydown(event) {\n    if (event.keyCode === 36) {\n      click(event);\n    }\n  };\n\n  var dblclick = function dblclick(event) {\n    event.preventDefault();\n  };\n\n  var addEventListeners = function addEventListeners() {\n    element.addEventListener('click', click);\n    element.addEventListener('dblclick', dblclick);\n\n    window.addEventListener('keydown', keydown);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    element.removeEventListener('click', click);\n    element.removeEventListener('dblclick', dblclick);\n\n    window.removeEventListener('keydown', keydown);\n  };\n\n  return {\n    append: append,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var negative = document.createElement('a');\n  var positive = document.createElement('a');\n\n  var append = function append() {\n    negative.className = 'kuvaify-rotate-negative-button', negative.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14\" stroke-linejoin=\"round\"/><path d=\"M5.03 17.885l5.565 8.308 8.308-5.567\"/></g></svg>';\n    positive.className = 'kuvaify-rotate-positive-button', positive.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14\" stroke-linejoin=\"round\"/><path d=\"M44.97 17.885l-5.565 8.308-8.308-5.567\"/></g></svg>';\n\n    parent.menu.div.appendChild(negative);\n    parent.menu.div.appendChild(positive);\n  };\n\n  var negativeRotate = function negativeRotate(event) {\n    parent.img.transform(parent.currentIndex, {\n      rotateValue: parent.images[parent.currentIndex].rotate - 90\n    });\n\n    event.preventDefault();\n  };\n\n  var positiveRotate = function positiveRotate(event) {\n    parent.img.transform(parent.currentIndex, {\n      rotateValue: parent.images[parent.currentIndex].rotate + 90\n    });\n\n    event.preventDefault();\n  };\n\n  var keydown = function keydown(event) {\n    if (event.keyCode === 33) {\n      positiveRotate(event);\n    }\n    if (event.keyCode === 34) {\n      negativeRotate(event);\n    }\n  };\n\n  var dblclick = function dblclick(event) {\n    event.preventDefault();\n  };\n\n  var addEventListeners = function addEventListeners() {\n    negative.addEventListener('click', negativeRotate);\n    positive.addEventListener('click', positiveRotate);\n    negative.addEventListener('dblclick', dblclick);\n    positive.addEventListener('dblclick', dblclick);\n\n    window.addEventListener('keydown', keydown);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    negative.removeEventListener('click', negativeRotate);\n    positive.removeEventListener('click', positiveRotate);\n    negative.removeEventListener('dblclick', dblclick);\n    positive.removeEventListener('dblclick', dblclick);\n\n    window.removeEventListener('keydown', keydown);\n  };\n\n  return {\n    append: append,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar opt = function opt(settings) {\n  var options = {\n    linkElement: 'body',\n    fileTypes: ['jpg', 'jpeg', 'png', 'gif'],\n    coverScreen: true,\n    showShortcuts: true,\n    transitionSpeed: 400,\n    transitionOverlap: 0,\n    transitionScale: 0.02,\n    zoomRatio: 0.2,\n    smallSize: 768,\n    mediumSize: 1280\n  };\n\n  if (settings.linkElement) {\n    if (typeof settings.linkElement === 'string') {\n      options.linkElement = settings.linkElement;\n    }\n  }\n  if (settings.fileTypes) {\n    if (settings.fileTypes.constructor === Array && settings.fileTypes.length > 0) {\n      options.fileTypes = settings.fileTypes;\n    }\n  }\n  if (settings.coverScreen !== undefined) {\n    if (settings.coverScreen === false) {\n      options.coverScreen = false;\n    }\n  }\n  if (settings.showShortcuts !== undefined) {\n    if (settings.showShortcuts === false) {\n      options.showShortcuts = false;\n    }\n  }\n  if (settings.transitionSpeed !== undefined) {\n    if (typeof settings.transitionSpeed === 'number' && settings.transitionSpeed >= 100) {\n      options.transitionSpeed = settings.transitionSpeed;\n    }\n  }\n  if (settings.transitionOverlap !== undefined) {\n    if (typeof settings.transitionOverlap === 'number' && settings.transitionOverlap <= 1) {\n      options.transitionOverlap = settings.transitionOverlap;\n    }\n    if (settings.transitionOverlap === 0) {\n      options.transitionOverlap = 0;\n    }\n  }\n  if (settings.transitionScale !== undefined) {\n    if (typeof settings.transitionScale === 'number') {\n      options.transitionScale = settings.transitionScale;\n    }\n    if (settings.transitionScale === 0) {\n      options.transitionScale = 0;\n    }\n  }\n  if (settings.zoomScale !== undefined) {\n    if (typeof settings.zoomScale === 'number') {\n      options.zoomScale = settings.zoomScale;\n    }\n    if (settings.zoomScale === 0) {\n      options.zoomScale = 0;\n    }\n  }\n  if (settings.smallSize) {\n    if (typeof settings.smallSize === 'number') {\n      options.smallSize = settings.smallSize;\n    }\n  }\n  if (settings.mediumSize) {\n    if (typeof settings.mediumSize === 'number') {\n      options.mediumSize = settings.mediumSize;\n    }\n  }\n\n  return options;\n};\n\nvar links = function links() {\n  var _this = this;\n\n  var linksCollection = document.querySelectorAll(this.options.linkElement + ' a');\n  var links = [].slice.call(linksCollection);\n  var fileTypes = this.options.fileTypes.join('|');\n  var regex = new RegExp('\\.(' + fileTypes + ')$');\n\n  links.forEach(function (link) {\n    _this.pushImage(link);\n\n    link.addEventListener('click', function (event) {\n      var index = links.indexOf(link);\n\n      _this.overlay.append();\n      _this.closeDiv.append();\n      _this.close.append();\n      _this.menu.append();\n      _this.navigation.append();\n      _this.spinner.append();\n\n      setTimeout(function () {\n        _this.overlay.visibility('visible');\n        _this.close.visibility('visible');\n        _this.menu.visibility('visible');\n        _this.navigation.visibility('depends');\n      }, 50);\n\n      setTimeout(function () {\n        _this.closed = false;\n\n        _this.overlay.addEventListeners();\n        _this.closeDiv.addEventListeners();\n        _this.close.addEventListeners();\n        _this.menu.addEventListeners();\n        _this.navigation.addEventListeners();\n\n        _this.img.prepare(index);\n      }, _this.options.transitionSpeed + 50);\n\n      setTimeout(function () {\n        _this.systemsReady = true;\n      }, _this.options.transitionSpeed * 2);\n\n      event.preventDefault();\n    });\n  });\n\n  return links;\n};\n\nexports.default = {\n  opt: opt,\n  links: links\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var element = document.createElement('div');\n\n  var append = function append() {\n    element.className = 'kuvaify-spinner';\n    element.innerHTML = '<div class=\"sk-folding-cube\"><div class=\"sk-cube1 sk-cube\"></div><div class=\"sk-cube2 sk-cube\"></div><div class=\"sk-cube4 sk-cube\"></div><div class=\"sk-cube3 sk-cube\"></div></div>';\n    element.style.transition = 'opacity ' + parent.options.transitionSpeed + 'ms ease, visibility ' + parent.options.transitionSpeed + 'ms ease';\n\n    parent.overlay.element.appendChild(element);\n  };\n\n  var visibility = function visibility(what) {\n    if (what === 'visible') {\n      element.classList.add('visible');\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible');\n    }\n  };\n\n  return {\n    append: append,\n    visibility: visibility\n  };\n};\n\nexports.default = init;\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar init = function init() {\n  var parent = this;\n  var _out = document.createElement('a');\n  var _in = document.createElement('a');\n\n  var append = function append() {\n    _out.className = 'kuvaify-zoom-out-button', _out.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M40 25H10\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>';\n    _in.className = 'kuvaify-zoom-in-button', _in.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"><path d=\"M25 40V10M40 25H10\"/></g></svg>';\n\n    parent.menu.div.appendChild(_out);\n    parent.menu.div.appendChild(_in);\n  };\n\n  var zoomOut = function zoomOut(event) {\n    var img = parent.images[parent.currentIndex];\n\n    if (img.scale >= 0.001) {\n      img.scale -= img.scaleRatio;\n    }\n\n    parent.img.transform(parent.currentIndex, {\n      scaleValue: img.scale\n    });\n\n    event.preventDefault();\n  };\n\n  var zoomIn = function zoomIn(event) {\n    var img = parent.images[parent.currentIndex];\n\n    img.scale += img.scaleRatio;\n\n    parent.img.transform(parent.currentIndex, {\n      scaleValue: img.scale\n    });\n\n    event.preventDefault();\n  };\n\n  var keydown = function keydown(event) {\n    if (event.keyCode === 38) {\n      zoomIn(event);\n    }\n    if (event.keyCode === 40) {\n      zoomOut(event);\n    }\n  };\n\n  var dblclick = function dblclick(event) {\n    event.preventDefault();\n  };\n\n  var addEventListeners = function addEventListeners() {\n    _out.addEventListener('click', zoomOut);\n    _in.addEventListener('click', zoomIn);\n    _out.addEventListener('dblclick', dblclick);\n    _in.addEventListener('dblclick', dblclick);\n\n    window.addEventListener('keydown', keydown);\n  };\n\n  var removeEventListeners = function removeEventListeners() {\n    _out.removeEventListener('click', zoomOut);\n    _in.removeEventListener('click', zoomIn);\n    _out.removeEventListener('dblclick', dblclick);\n    _in.removeEventListener('dblclick', dblclick);\n\n    window.removeEventListener('keydown', keydown);\n  };\n\n  return {\n    append: append,\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners\n  };\n};\n\nexports.default = init;\n\n},{}]},{},[4])\n\n","'use strict'\n\nlet init = function () {\n  let parent = this\n  let element = document.createElement('a')\n\n  let append = () => {\n    element.className = 'kuvaify-close-button',\n    element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 40l30-30M40 40L10 10\"/></g></svg>'\n\n    parent.overlay.element.appendChild(element)\n  }\n\n  let visibility = what => {\n    if (what === 'visible') {\n      element.classList.add('visible')\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible')\n    }\n  }\n\n  let close = () => {\n    if (parent.systemsReady) {\n      parent.closed = true\n\n      parent.overlay.visibility('hidden')\n      parent.closeDiv.visibility('hidden')\n      parent.img.hide(parent.currentIndex)\n      visibility('hidden')\n      parent.menu.visibility('hidden')\n      parent.navigation.visibility('hidden')\n      parent.spinner.visibility('hidden')\n\n      parent.overlay.removeEventListeners()\n      parent.closeDiv.removeEventListeners()\n      parent.img.removeEventListeners()\n      removeEventListeners()\n      parent.menu.removeEventListeners()\n      parent.reset.removeEventListeners()\n      parent.zoom.removeEventListeners()\n      parent.rotate.removeEventListeners()\n      parent.navigation.removeEventListeners()\n\n      parent.systemsReady = false\n    }\n  }\n\n  let click = event => {\n    close()\n\n    event.preventDefault()\n  }\n\n  let keydown = event => {\n    if (event.keyCode === 27) {\n      click(event)\n    }\n  }\n\n  let addEventListeners = () => {\n    element.addEventListener('click', click)\n\n    window.addEventListener('keydown', keydown)\n  }\n\n  let removeEventListeners = () => {\n    element.removeEventListener('click', click)\n\n    window.removeEventListener('keydown', keydown)\n  }\n\n  return {\n    append,\n    visibility,\n    close,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","'use strict'\n\nlet init = function () {\n  let parent = this\n  let images = parent.images\n  let options = parent.options\n  let firefox = (navigator.userAgent.indexOf('Firefox') !== -1) ? true : false\n\n  let href = index => {\n    let img = images[index]\n\n    if (parent.screenWidth < options.smallSize) {\n      return img.smallHref\n    }\n    if (parent.screenWidth < options.mediumSize) {\n      return img.mediumHref\n    }\n\n    return img.href\n  }\n\n  let size = index => {\n    (index => {\n      let img = images[index].element\n      let body = parent.body\n      let imgWidth = img.clientWidth\n      let imgHeight = img.clientHeight\n\n      parent.screenWidth = body.clientWidth\n      parent.screenHeight = body.clientHeight\n\n      if (imgWidth < parent.screenWidth && imgHeight < parent.screenHeight) {\n        if (imgWidth > imgHeight) {\n          img.classList.remove('cover-horizontally')\n          img.classList.add('cover-vertically')\n        } else {\n          img.classList.remove('cover-vertically')\n          img.classList.add('cover-horizontally')\n        }\n      } else {\n        if (imgWidth < parent.screenWidth) {\n          img.classList.remove('cover-vertically')\n          img.classList.add('cover-horizontally')\n        }\n        if (imgHeight < parent.screenHeight) {\n          img.classList.remove('cover-horizontally')\n          img.classList.add('cover-vertically')\n        }\n      }\n    })(index)\n  }\n\n  let visibility = (what, index) => {\n    ((what, index) => {\n      let img = images[index]\n\n      if (what === 'visible') {\n        img.element.classList.add('visible')\n\n        if (img.caption) {\n          img.caption.classList.add('visible')\n        }\n      }\n      if (what === 'hidden') {\n        img.element.classList.remove('visible')\n\n        if (img.caption) {\n          img.caption.classList.remove('visible')\n        }\n      }\n    })(what, index)\n  }\n\n  let get = index => {\n    (index => {\n      let img = images[index]\n      let overlay = parent.overlay.element\n      let spinner = parent.spinner\n\n      spinner.visibility('visible')\n\n      overlay.appendChild(img.element)\n\n      img.element.src = href(index)\n\n      if (img.caption) {\n        overlay.appendChild(img.caption)\n      }\n\n      hide(index)\n\n      img.element.addEventListener('load', () => {\n        img.loaded = true\n\n        if (options.coverScreen) {\n          size(index)\n        }\n\n        spinner.visibility('hidden')\n\n        if (index === parent.currentIndex && !parent.closed) {\n          show(index)\n        }\n      })\n    })(index)\n  }\n\n  let show = index => {\n    ((index) => {\n      let img = images[index]\n\n      setTimeout(() => {\n        visibility('visible', index)\n\n        if (options.transitionScale > 0) {\n          transform(index, {\n            scaleValue: img.scale - options.transitionScale\n          })\n        }\n      }, options.transitionSpeed * options.transitionOverlap)\n    })(index)\n  }\n\n  let hide = index => {\n    ((index) => {\n      let img = images[index]\n\n      visibility('hidden', index)\n\n      if (options.transitionScale > 0) {\n        transform(index, {\n          scaleValue: img.scale + options.transitionScale\n        })\n      }\n    })(index)\n  }\n\n  let prepare = (index, navigated) => {\n    let img = images[index]\n    let navigation = parent.navigation\n    let spinner = parent.spinner\n\n    navigation.removeEventListeners()\n\n    if (navigated) {\n      removeEventListeners()\n\n      hide(parent.oldIndex)\n\n      parent.setCurrent(index)\n    } else {\n      parent.setCurrent(index)\n    }\n\n    let next = parent.nextIndex\n    let prev = parent.prevIndex\n\n    if (next) {\n      if (!images[next].loaded) {\n        get(next)\n      }\n    }\n    if (prev) {\n      if (!images[prev].loaded) {\n        get(prev)\n      }\n    }\n\n    addEventListeners()\n\n    if (!img.element.src) {\n      get(index)\n    } else {\n      if (img.loaded) {\n        spinner.visibility('hidden')\n\n        show(index)\n      } else {\n        spinner.visibility('visible')\n      }\n    }\n\n    setTimeout(() => {\n      navigation.visibility('depends')\n      navigation.addEventListeners()\n    }, options.transitionSpeed / 2)\n  }\n\n  let transform = (index, { scaleValue = images[index].scale, rotateValue = images[index].rotate }) => {\n    ((index, scaleValue, rotateValue) => {\n      let img = images[index]\n\n      parent.rotate.removeEventListeners()\n\n      let transformString = `translate(-50%, -50%) scale(${scaleValue}) rotate(${rotateValue}deg)`\n\n      img.scale = scaleValue\n      img.rotate = rotateValue\n      img.element.style.webkitTransform = transformString\n      img.element.style.msTransform = transformString\n      img.element.style.transform = transformString\n\n      setTimeout(() => {\n        parent.rotate.addEventListeners()\n      }, options.transitionSpeed / 2)\n    })(index, scaleValue, rotateValue)\n  }\n\n  let reset = index => {\n    let img = images[index]\n\n    img.element.style.transition = img.transition + ', left 400ms ease, top 400ms ease'\n    img.element.style.left = null\n    img.element.style.top = null\n\n    setTimeout(() => {\n      img.element.style.transition = img.transition\n    }, options.transitionSpeed)\n\n    transform(index, {\n      scaleValue: 1,\n      rotateValue: 0\n    })\n  }\n\n  let click = event => {\n    parent.menu.div.classList.remove('visible')\n\n    event.preventDefault()\n  }\n\n  let dblclick = event => {\n    reset(parent.currentIndex)\n\n    event.preventDefault()\n  }\n\n  let wheel = event => {\n    let img = images[parent.currentIndex]\n    let delta = firefox ? event.detail : event.wheelDelta\n    let positive = firefox ? delta < 0 : delta > 0\n    let negative = firefox ? delta > 0 : delta < 0\n\n    if (positive) {\n      img.scale += img.scaleRatio\n    }\n    if (negative) {\n      if (img.scale >= 0.001) {\n        img.scale -= img.scaleRatio\n      }\n    }\n\n    transform(parent.currentIndex, {\n      scaleValue: img.scale\n    })\n\n    event.preventDefault()\n  }\n\n  let mousedown = event => {\n    let img = images[parent.currentIndex]\n\n    img.offx = event.clientX - img.element.offsetLeft\n    img.offy = event.clientY - img.element.offsetTop\n\n    window.addEventListener('mousemove', mousemove)\n\n    event.preventDefault()\n  }\n\n  let mousemove = event => {\n    let img = images[parent.currentIndex]\n\n    let move = () => {\n      img.element.style.left = event.clientX - img.offx + 'px'\n      img.element.style.top = event.clientY - img.offy + 'px'\n    }\n\n    window.requestAnimationFrame(move)\n  }\n\n  let mouseup = event => {\n    window.removeEventListener('mousemove', mousemove)\n  }\n\n  let addEventListeners = () => {\n    let img = images[parent.currentIndex]\n\n    img.element.addEventListener('mousedown', mousedown)\n    img.element.addEventListener('click', click)\n    img.element.addEventListener('dblclick', dblclick)\n\n    if (firefox) {\n      window.addEventListener('DOMMouseScroll', wheel)\n    } else {\n      window.addEventListener('mousewheel', wheel)\n    }\n    window.addEventListener('mouseup', mouseup)\n  }\n\n  let removeEventListeners = () => {\n    let img = images[parent.currentIndex]\n\n    img.element.removeEventListener('mousedown', mousedown)\n    img.element.removeEventListener('click', click)\n    img.element.removeEventListener('dblclick', dblclick)\n\n    if (firefox) {\n      window.removeEventListener('DOMMouseScroll', wheel)\n    } else {\n      window.removeEventListener('mousewheel', wheel)\n    }\n    window.removeEventListener('mouseup', mouseup)\n  }\n\n  let resize = event => {\n    images.forEach((img) => {\n      let index = images.indexOf(img)\n\n      size(index)\n    })\n  }\n\n  let addResizeListener = () => {\n    if (options.coverScreen) {\n      window.addEventListener('resize', resize)\n    }\n  }\n\n  return {\n    hide,\n    prepare,\n    transform,\n    reset,\n    addEventListeners,\n    removeEventListeners,\n    addResizeListener\n  }\n}\n\nexport default init","'use strict'\n\nimport setup from './setup'\nimport overlay from './overlay'\nimport img from './img'\nimport close from './close'\nimport menu from './menu'\nimport reset from './reset'\nimport zoom from './zoom'\nimport rotate from './rotate'\nimport navigation from './navigation'\nimport spinner from './spinner'\nimport closeDiv from './close-div'\nimport prototype from './prototype'\n\nlet kuvaify = function (settings = {}) {\n  this.images = []\n  this.currentIndex = null\n  this.nextIndex = null\n  this.prevIndex = null\n  this.oldIndex = null\n  this.body = document.body\n  this.screenWidth = this.body.clientWidth\n  this.screenHeight = this.body.clientHeight\n  this.closed = false\n  this.systemsReady = false\n  this.options = setup.opt(settings)\n  this.links = setup.links.call(this)\n\n  this.overlay = overlay.call(this)\n  this.closeDiv = closeDiv.call(this)\n  this.img = img.call(this)\n  this.close = close.call(this)\n  this.menu = menu.call(this)\n  this.reset = reset.call(this)\n  this.zoom = zoom.call(this)\n  this.rotate = rotate.call(this)\n  this.navigation = navigation.call(this)\n  this.spinner = spinner.call(this)\n\n  this.img.addResizeListener()\n}\n\nkuvaify.prototype.pushImage = prototype.pushImage\nkuvaify.prototype.setCurrent = prototype.setCurrent\n\nlet init = settings => {\n  new kuvaify(settings)\n}\n\nwindow.kuvaify = init","'use strict'\n\nlet init = function () {\n  let parent = this\n  let button = document.createElement('a')\n  let div = document.createElement('div')\n  let help = document.createElement('p')\n\n  let append = () => {\n    button.className = 'kuvaify-menu-button'\n    button.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M10 11h30M10 25h30M10 39h30\"/></g></svg>'\n    div.className = 'kuvaify-menu-div'\n    help.className = 'kuvaify-help'\n    help.innerHTML = 'Desktop users can use the <strong>left</strong> and <strong>right</strong> keys to navigate; <strong>up</strong> and <strong>down</strong> or <strong>scroll</strong> to zoom; <strong>page up</strong> and <strong>page down</strong> to rotate; <strong>click</strong> and <strong>drag</strong> to move; <strong>home</strong> or <strong>double click</strong> to reset; and <strong>esc</strong> to close.'\n\n    parent.rotate.append()\n    parent.zoom.append()\n    parent.reset.append()\n\n    if (parent.options.showShortcuts && parent.screenWidth > 1280) {\n      div.appendChild(help)\n    }\n\n    parent.overlay.element.appendChild(button)\n    parent.overlay.element.appendChild(div)\n  }\n\n  let visibility = what => {\n    if (what === 'visible') {\n      button.classList.add('visible')\n    }\n    if (what === 'hidden') {\n      button.classList.remove('visible')\n      div.classList.remove('visible')\n    }\n  }\n\n  let click = event => {\n    if (!div.classList.contains('visible')) {\n      div.classList.add('visible')\n    } else {\n      div.classList.remove('visible')\n    }\n\n    event.preventDefault()\n  }\n\n  let divClick = event => {\n    div.classList.remove('visible')\n\n    event.preventDefault()\n  }\n\n  let addEventListeners = () => {\n    button.addEventListener('click', click)\n\n    parent.rotate.addEventListeners()\n    parent.zoom.addEventListeners()\n    parent.reset.addEventListeners()\n  }\n\n  let removeEventListeners = () => {\n    button.removeEventListener('click', click)\n\n    parent.rotate.removeEventListeners()\n    parent.zoom.removeEventListeners()\n    parent.reset.removeEventListeners()\n  }\n\n  return {\n    div,\n    append,\n    visibility,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","'use strict'\n\nlet init = function () {\n  let parent = this\n  let next = document.createElement('a')\n  let prev = document.createElement('a')\n\n  let append = () => {\n    next.className = 'kuvaify-next-button'\n    next.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M14.467 10l20 15-20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n    prev.className = 'kuvaify-prev-button'\n    prev.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M35.533 10l-20 15 20 15\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n\n    parent.overlay.element.appendChild(next)\n    parent.overlay.element.appendChild(prev)\n  }\n\n  let visibility = what => {\n    if (what === 'depends') {\n      if (parent.nextIndex === null) {\n        next.classList.remove('visible')\n      } else {\n        next.classList.add('visible')\n      }\n      if (parent.prevIndex === null) {\n        prev.classList.remove('visible')\n      } else {\n        prev.classList.add('visible')\n      }\n    }\n    if (what === 'hidden') {\n      next.classList.remove('visible')\n      prev.classList.remove('visible')\n    }\n  }\n\n  let getNext = () => {\n    parent.oldIndex = parent.currentIndex\n\n    if (parent.nextIndex !== null) {\n      parent.img.prepare(parent.nextIndex, 'navigated')\n    }\n  }\n\n  let getPrev = () => {\n    parent.oldIndex = parent.currentIndex\n\n    if (parent.prevIndex !== null) {\n      parent.img.prepare(parent.prevIndex, 'navigated')\n    }\n  }\n\n  let nextImg = event => {\n    getNext()\n\n    event.preventDefault()\n  }\n\n  let prevImg = event => {\n    getPrev()\n\n    event.preventDefault()\n  }\n\n  let keydown = event => {\n    if (event.keyCode === 39) {\n      getNext(event)\n    }\n    if (event.keyCode === 37) {\n      getPrev(event)\n    }\n  }\n\n  let addEventListeners = () => {\n    next.addEventListener('click', nextImg)\n    prev.addEventListener('click', prevImg)\n\n    window.addEventListener('keydown', keydown)\n  }\n\n  let removeEventListeners = () => {\n    next.removeEventListener('click', nextImg)\n    prev.removeEventListener('click', prevImg)\n\n    window.removeEventListener('keydown', keydown)\n  }\n\n  return {\n    append,\n    visibility,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","'use strict'\n\nlet init = function () {\n  let parent = this\n  let element = document.createElement('div')\n  let focusStarted = false\n\n  let focus = event => {\n    if (focusStarted === false) {\n      visibility('focused')\n\n      setTimeout(() => {\n        visibility('unfocused')\n\n        focusStarted = false\n      }, 2000)\n    }\n\n    focusStarted = true\n  }\n\n  let append = () => {\n    element.className = 'kuvaify'\n    element.style.transition = 'opacity 400ms ease, visibility 400ms ease'\n\n    parent.body.appendChild(element)\n  }\n\n  let visibility = what => {\n    if (what === 'visible') {\n      element.classList.add('visible')\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible')\n    }\n    if (what === 'focused') {\n      element.classList.add('focused')\n    }\n    if (what === 'unfocused') {\n      element.classList.remove('focused')\n    }\n  }\n\n  let addEventListeners = () => {\n    window.addEventListener('mousemove', focus)\n  }\n\n  let removeEventListeners = () => {\n    window.removeEventListener('mousemove', focus)\n  }\n\n  return {\n    element,\n    append,\n    visibility,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","'use strict'\n\nlet pushImage = function (link) {\n  let img = {\n    element: document.createElement('img'),\n    href: link.pathname,\n    smallHref: link.getAttribute('data-kuvaify-small') || null,\n    mediumHref: link.getAttribute('data-kuvaify-medium') || null,\n    caption: null,\n    scale: 1,\n    scaleRatio: this.options.zoomRatio,\n    rotate: 0,\n    offx: 0,\n    offy: 0,\n    transition: `width ${this.options.transitionSpeed}ms ease, height ${this.options.transitionSpeed}ms ease, transform ${this.options.transitionSpeed}ms ease, opacity ${this.options.transitionSpeed}ms ease, visibility ${this.options.transitionSpeed}ms ease`,\n    loaded: false\n  }\n\n  img.element.style.transition = img.transition\n  img.element.style.left = null\n  img.element.style.top = null\n  img.element.classList.add('kuvaify-img')\n\n  if (link.getAttribute('data-kuvaify-caption')) {\n    img.caption = document.createElement('div')\n    img.caption.innerHTML = `<p>${link.getAttribute('data-kuvaify-caption').replace(/<[^>]+>/ig,'')}</p>`\n    img.caption.className = 'kuvaify-caption'\n    img.caption.style.transition = `opacity ${this.options.transitionSpeed}ms ease`\n  }\n\n  this.images.push(img)\n}\n\nlet setCurrent = function (index) {\n  let img = this.images[index]\n\n  this.currentIndex = this.images.indexOf(img)\n\n  if (this.images[this.currentIndex + 1]) {\n    this.nextIndex = this.currentIndex + 1\n  } else {\n    this.nextIndex = null\n  }\n  if (this.images[this.currentIndex - 1]) {\n    this.prevIndex = this.currentIndex - 1\n  } else {\n    this.prevIndex = null\n  }\n}\n\nexport default {\n  pushImage,\n  setCurrent\n}","'use strict'\n\nlet init = function () {\n  let parent = this\n  let element = document.createElement('a')\n\n  let append = () => {\n    element.className = 'kuvaify-reset-button',\n    element.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M21.62 28.38L10.31 39.69M12 28h10v10\"/><g><path d=\"M28.38 21.62L39.69 10.31M38 22H28V12\"/></g></g></svg>'\n\n    parent.menu.div.appendChild(element)\n  }\n\n  let click = event => {\n    parent.img.reset(parent.currentIndex)\n\n    event.preventDefault()\n  }\n\n  let keydown = event => {\n    if (event.keyCode === 36) {\n      click(event)\n    }\n  }\n\n  let dblclick = event => {\n    event.preventDefault()\n  }\n\n  let addEventListeners = () => {\n    element.addEventListener('click', click)\n    element.addEventListener('dblclick', dblclick)\n\n    window.addEventListener('keydown', keydown)\n  }\n\n  let removeEventListeners = () => {\n    element.removeEventListener('click', click)\n    element.removeEventListener('dblclick', dblclick)\n\n    window.removeEventListener('keydown', keydown)\n  }\n\n  return {\n    append,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","'use strict'\n\nlet init = function () {\n  let parent = this\n  let negative = document.createElement('a')\n  let positive = document.createElement('a')\n\n  let append = () => {\n    negative.className = 'kuvaify-rotate-negative-button',\n    negative.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14\" stroke-linejoin=\"round\"/><path d=\"M5.03 17.885l5.565 8.308 8.308-5.567\"/></g></svg>'\n    positive.className = 'kuvaify-rotate-positive-button',\n    positive.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g stroke=\"#fff\" fill=\"none\" stroke-width=\"2\"><path d=\"M25 39c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14\" stroke-linejoin=\"round\"/><path d=\"M44.97 17.885l-5.565 8.308-8.308-5.567\"/></g></svg>'\n\n    parent.menu.div.appendChild(negative)\n    parent.menu.div.appendChild(positive)\n  }\n\n  let negativeRotate = event => {\n    parent.img.transform(parent.currentIndex, {\n      rotateValue: parent.images[parent.currentIndex].rotate - 90\n    })\n\n    event.preventDefault()\n  }\n\n  let positiveRotate = event => {\n    parent.img.transform(parent.currentIndex, {\n      rotateValue: parent.images[parent.currentIndex].rotate + 90\n    })\n\n    event.preventDefault()\n  }\n\n  let keydown = event => {\n    if (event.keyCode === 33) {\n      positiveRotate(event)\n    }\n    if (event.keyCode === 34) {\n      negativeRotate(event)\n    }\n  }\n\n  let dblclick = event => {\n    event.preventDefault()\n  }\n\n  let addEventListeners = () => {\n    negative.addEventListener('click', negativeRotate)\n    positive.addEventListener('click', positiveRotate)\n    negative.addEventListener('dblclick', dblclick)\n    positive.addEventListener('dblclick', dblclick)\n\n    window.addEventListener('keydown', keydown)\n  }\n\n  let removeEventListeners = () => {\n    negative.removeEventListener('click', negativeRotate)\n    positive.removeEventListener('click', positiveRotate)\n    negative.removeEventListener('dblclick', dblclick)\n    positive.removeEventListener('dblclick', dblclick)\n\n    window.removeEventListener('keydown', keydown)\n  }\n\n  return {\n    append,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init","'use strict'\n\nlet opt = settings => {\n  let options = {\n    linkElement: 'body',\n    fileTypes: ['jpg', 'jpeg', 'png', 'gif'],\n    coverScreen: true,\n    showShortcuts: true,\n    transitionSpeed: 400,\n    transitionOverlap: 0,\n    transitionScale: 0.02,\n    zoomRatio: 0.2,\n    smallSize: 768,\n    mediumSize: 1280\n  }\n\n  if (settings.linkElement) {\n    if (typeof settings.linkElement === 'string') {\n      options.linkElement = settings.linkElement\n    }\n  }\n  if (settings.fileTypes) {\n    if (settings.fileTypes.constructor === Array && settings.fileTypes.length > 0) {\n      options.fileTypes = settings.fileTypes\n    }\n  }\n  if (settings.coverScreen !== undefined) {\n    if (settings.coverScreen === false) {\n      options.coverScreen = false\n    }\n  }\n  if (settings.showShortcuts !== undefined) {\n    if (settings.showShortcuts === false) {\n      options.showShortcuts = false\n    }\n  }\n  if (settings.transitionSpeed !== undefined) {\n    if (typeof settings.transitionSpeed === 'number' && settings.transitionSpeed >= 100) {\n      options.transitionSpeed = settings.transitionSpeed\n    }\n  }\n  if (settings.transitionOverlap !== undefined) {\n    if (typeof settings.transitionOverlap === 'number' && settings.transitionOverlap <= 1) {\n      options.transitionOverlap = settings.transitionOverlap\n    }\n    if (settings.transitionOverlap === 0) {\n      options.transitionOverlap = 0\n    }\n  }\n  if (settings.transitionScale !== undefined) {\n    if (typeof settings.transitionScale === 'number') {\n      options.transitionScale = settings.transitionScale\n    }\n    if (settings.transitionScale === 0) {\n      options.transitionScale = 0\n    }\n  }\n  if (settings.zoomScale !== undefined) {\n    if (typeof settings.zoomScale === 'number') {\n      options.zoomScale = settings.zoomScale\n    }\n    if (settings.zoomScale === 0) {\n      options.zoomScale = 0\n    }\n  }\n  if (settings.smallSize) {\n    if (typeof settings.smallSize === 'number') {\n      options.smallSize = settings.smallSize\n    }\n  }\n  if (settings.mediumSize) {\n    if (typeof settings.mediumSize === 'number') {\n      options.mediumSize = settings.mediumSize\n    }\n  }\n\n  return options\n}\n\nlet links = function () {\n  let linksCollection = document.querySelectorAll(this.options.linkElement + ' a')\n  let links = [].slice.call(linksCollection)\n  let fileTypes = this.options.fileTypes.join('|')\n  let regex = new RegExp('\\.(' + fileTypes + ')$');\n\n  links.forEach(link => {\n    this.pushImage(link)\n\n    link.addEventListener('click', event => {\n      let index = links.indexOf(link)\n\n      this.overlay.append()\n      this.closeDiv.append()\n      this.close.append()\n      this.menu.append()\n      this.navigation.append()\n      this.spinner.append()\n\n      setTimeout(() => {\n        this.overlay.visibility('visible')\n        this.close.visibility('visible')\n        this.menu.visibility('visible')\n        this.navigation.visibility('depends')\n      }, 50)\n\n      setTimeout(() => {\n        this.closed = false\n\n        this.overlay.addEventListeners()\n        this.closeDiv.addEventListeners()\n        this.close.addEventListeners()\n        this.menu.addEventListeners()\n        this.navigation.addEventListeners()\n\n        this.img.prepare(index)\n      }, this.options.transitionSpeed + 50)\n\n      setTimeout(() => {\n        this.systemsReady = true\n      }, this.options.transitionSpeed * 2)\n\n      event.preventDefault()\n    })\n  })\n\n  return links\n}\n\nexport default {\n  opt,\n  links\n}","'use strict'\n\nlet init = function () {\n  let parent = this\n  let element = document.createElement('div')\n\n  let append = () => {\n    element.className = 'kuvaify-spinner'\n    element.innerHTML = '<div class=\"sk-folding-cube\"><div class=\"sk-cube1 sk-cube\"></div><div class=\"sk-cube2 sk-cube\"></div><div class=\"sk-cube4 sk-cube\"></div><div class=\"sk-cube3 sk-cube\"></div></div>'\n    element.style.transition = `opacity ${parent.options.transitionSpeed}ms ease, visibility ${parent.options.transitionSpeed}ms ease`\n\n    parent.overlay.element.appendChild(element)\n  }\n\n  let visibility = what => {\n    if (what === 'visible') {\n      element.classList.add('visible')\n    }\n    if (what === 'hidden') {\n      element.classList.remove('visible')\n    }\n  }\n\n  return {\n    append,\n    visibility\n  }\n}\n\nexport default init","'use strict'\n\nlet init = function () {\n  let parent = this\n  let _out = document.createElement('a')\n  let _in = document.createElement('a')\n\n  let append = () => {\n    _out.className = 'kuvaify-zoom-out-button',\n    _out.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><path d=\"M40 25H10\" fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"/></svg>'\n    _in.className = 'kuvaify-zoom-in-button',\n    _in.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50.000001 50.000001\"><g fill=\"none\" stroke=\"#fff\" stroke-width=\"2\"><path d=\"M25 40V10M40 25H10\"/></g></svg>'\n\n    parent.menu.div.appendChild(_out)\n    parent.menu.div.appendChild(_in)\n  }\n\n  let zoomOut = event => {\n    let img = parent.images[parent.currentIndex]\n\n    if (img.scale >= 0.001) {\n      img.scale -= img.scaleRatio\n    }\n\n    parent.img.transform(parent.currentIndex, {\n      scaleValue: img.scale\n    })\n\n    event.preventDefault()\n  }\n\n  let zoomIn = event => {\n    let img = parent.images[parent.currentIndex]\n\n    img.scale += img.scaleRatio\n\n    parent.img.transform(parent.currentIndex, {\n      scaleValue: img.scale\n    })\n\n    event.preventDefault()\n  }\n\n  let keydown = event => {\n    if (event.keyCode === 38) {\n      zoomIn(event)\n    }\n    if (event.keyCode === 40) {\n      zoomOut(event)\n    }\n  }\n\n  let dblclick = event => {\n    event.preventDefault()\n  }\n\n  let addEventListeners = () => {\n    _out.addEventListener('click', zoomOut)\n    _in.addEventListener('click', zoomIn)\n    _out.addEventListener('dblclick', dblclick)\n    _in.addEventListener('dblclick', dblclick)\n\n    window.addEventListener('keydown', keydown)\n  }\n\n  let removeEventListeners = () => {\n    _out.removeEventListener('click', zoomOut)\n    _in.removeEventListener('click', zoomIn)\n    _out.removeEventListener('dblclick', dblclick)\n    _in.removeEventListener('dblclick', dblclick)\n\n    window.removeEventListener('keydown', keydown)\n  }\n\n  return {\n    append,\n    addEventListeners,\n    removeEventListeners\n  }\n}\n\nexport default init"],"sourceRoot":"/source/"}