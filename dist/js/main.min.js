var kuvaify=function(){"use strict";var e={linkElement:"body",fileTypes:["jpg","jpeg","png","gif"],coverScreen:!0,showShortcuts:!0,transitionSpeed:400,transitionScale:.08,zoomRatio:.2,smallSize:768,mediumSize:1280},t=document.body,n=[],i=null,s=null,o=null,l=t.clientWidth,r=t.clientHeight,a=function(t){t.linkElement&&"string"==typeof t.linkElement&&(e.linkElement=t.linkElement),t.fileTypes&&t.fileTypes.constructor===Array&&(e.fileTypes=t.fileTypes),void 0!==t.coverScreen&&t.coverScreen===!1&&(e.coverScreen=!1),void 0!==t.showShortcuts&&t.showShortcuts===!1&&(e.showShortcuts=!1),t.transitionSpeed&&"number"==typeof t.transitionSpeed&&t.transitionSpeed>=100&&(e.transitionSpeed=t.transitionSpeed),t.transitionScale&&("number"==typeof t.transitionScale&&(e.transitionScale=t.transitionScale),0===t.transitionScale&&(e.transitionScale=0)),t.zoomScale&&("number"==typeof t.zoomScale&&(e.zoomScale=t.zoomScale),0===t.zoomScale&&(e.zoomScale=0)),t.smallSize&&"number"==typeof t.smallSize&&(e.smallSize=t.smallSize),t.mediumSize&&"number"==typeof t.mediumSize&&(e.mediumSize=t.mediumSize),v.get(),v.push(),v.addEventListeners()},d=function(e){a(e)},v={links:[],get:function(){var t=document.querySelectorAll(e.linkElement+" a"),n=[].slice.call(t),i=e.fileTypes.join("|"),s=new RegExp(".("+i+")$");n.forEach(function(e){e.pathname.match(s)&&v.links.push(e)})},push:function(){v.links.forEach(function(e){m.push(e)})},addEventListeners:function(){v.links.forEach(function(e){e.addEventListener("click",function(t){var n=v.links.indexOf(e);c.append(),y.append(),u.append(),f.append(),L.append(),k.append(),c.addEventListeners(),y.addEventListeners(),f.addEventListeners(),u.addEventListeners(),L.addEventListeners(),m.current(n),m.prepare(n),setTimeout(function(){c.visibility("show"),u.visibility("show"),f.visibility("show"),L.visibility("depends")},100),t.preventDefault()})})}},c={element:document.createElement("div"),focusStarted:!1,focus:function(e){c.focusStarted===!1&&(c.visibility("focus"),setTimeout(function(){c.visibility("unfocus"),c.focusStarted=!1},2e3)),c.focusStarted=!0},append:function(){t.appendChild(c.element),c.element.id="kuvaify",c.element.style.transition="opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease"},visibility:function(e){"show"===e&&c.element.classList.add("visible"),"hide"===e&&c.element.classList.remove("visible"),"focus"===e&&c.element.classList.add("focused"),"unfocus"===e&&c.element.classList.remove("focused")},addEventListeners:function(){window.addEventListener("mousemove",c.focus)},removeEventListeners:function(){window.removeEventListener("mousemove",c.focus)}},m={push:function(t){var i={element:document.createElement("img"),href:t.pathname,smallHref:t.getAttribute("data-kuvaify-small")||null,mediumHref:t.getAttribute("data-kuvaify-medium")||null,caption:null,scale:1,scaleRatio:e.zoomRatio,rotate:0,offx:0,offy:0,transition:"width "+e.transitionSpeed+"ms ease, height "+e.transitionSpeed+"ms ease, transform "+e.transitionSpeed+"ms ease, opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease",loaded:!1};i.element.style.transition=i.transition,i.element.style.left=null,i.element.style.top=null,i.element.classList.add("kuvaify-img"),t.getAttribute("data-kuvaify-caption")&&(i.caption=document.createElement("div"),i.caption.innerHTML="<p>"+t.getAttribute("data-kuvaify-caption").replace(/<[^>]+>/gi,"")+"</p>",i.caption.id="kuvaify-caption",i.caption.style.transition="opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease"),n.push(i)},current:function(e){var t=n[e];i=n.indexOf(t),s=n[i+1]?i+1:null,o=n[i-1]?i-1:null},href:function(){return l<e.smallSize?n[i].smallHref:l<e.mediumSize?n[i].mediumHref:n[i].href},size:function(){var e,s=n[i].element.clientWidth,o=n[i].element.clientHeight;l=t.clientWidth,r=t.clientHeight,l>s&&r>o?e=s>o?"cover-vertically":"cover-horizontally":(l>s&&(e="cover-horizontally"),r>o&&(e="cover-vertically")),n[i].element.classList.add(e)},visibility:function(t){"show"===t&&(n[i].element.classList.add("visible"),e.transitionScale>0&&m.transform({scale:n[i].scale-e.transitionScale}),n[i].caption&&n[i].caption.classList.add("visible")),"hide"===t&&(n[i].element.classList.remove("visible"),n[i].caption&&n[i].caption.classList.remove("visible")),"measure"===t&&n[i].element.classList.add("measure"),"measured"===t&&n[i].element.classList.remove("measure")},show:function(){m.visibility("measure"),e.transitionScale>0&&m.transform({scale:n[i].scale+e.transitionScale}),e.coverScreen&&m.size(),setTimeout(function(){m.visibility("show"),setTimeout(function(){m.visibility("measured")},100)},e.transitionSpeed/4)},prepare:function(t){L.removeEventListeners(),m.visibility("hide"),m.current(t),L.visibility("depends"),m.addEventListeners(),n[i].element.src?n[i].loaded?(k.visibility("hide"),m.show()):k.visibility("show"):!function(e){var e=e;k.visibility("show"),c.element.appendChild(n[e].element),n[e].caption&&c.element.appendChild(n[e].caption),n[e].element.src=m.href(),n[e].element.addEventListener("load",function(){n[e].loaded=!0,k.visibility("hide"),e===i&&m.show()})}(i),setTimeout(function(){L.addEventListeners()},e.transitionSpeed/2)},transform:function(t){h.removeEventListeners();var s,o=t.scale||n[i].scale,l=t.rotate||n[i].rotate;0===t.rotate&&(l=0),s="translate(-50%, -50%) scale("+o+") rotate("+l+"deg)",n[i].scale=o,n[i].rotate=l,n[i].element.style.webkitTransform=s,n[i].element.style.msTransform=s,n[i].element.style.transform=s,setTimeout(function(){h.addEventListeners()},e.transitionSpeed/2)},reset:function(){n[i].element.style.transition=n[i].transition+", left "+e.transitionSpeed+"ms ease, top "+e.transitionSpeed+"ms ease",n[i].element.style.left=null,n[i].element.style.top=null,setTimeout(function(){n[i].element.style.transition=n[i].transition},e.transitionSpeed),m.transform({scale:1,rotate:0})},click:function(e){f.div.classList.remove("visible"),e.preventDefault()},wheel:function(e){120===e.wheelDelta?n[i].scale+=n[i].scaleRatio:n[i].scale>=.4&&(n[i].scale-=n[i].scaleRatio),m.transform({scale:n[i].scale}),e.preventDefault()},mousedown:function(e){n[i].offx=e.clientX-n[i].element.offsetLeft,n[i].offy=e.clientY-n[i].element.offsetTop,window.addEventListener("mousemove",m.mousemove),e.preventDefault()},mousemove:function(e){var t=function(){n[i].element.style.left=e.clientX-n[i].offx+"px",n[i].element.style.top=e.clientY-n[i].offy+"px"};window.requestAnimationFrame(t)},mouseup:function(e){window.removeEventListener("mousemove",m.mousemove)},addEventListeners:function(){n[i].element.addEventListener("mousedown",m.mousedown),n[i].element.addEventListener("click",m.click),window.addEventListener("wheel",m.wheel),window.addEventListener("mouseup",m.mouseup),e.coverScreen&&window.addEventListener("resize",m.size)},removeEventListeners:function(){n[i].element.removeEventListener("mousedown",m.mousedown),n[i].element.removeEventListener("click",m.click),window.removeEventListener("wheel",m.wheel),window.removeEventListener("mouseup",m.mouseup),e.coverScreen&&window.removeEventListener("resize",m.size)}},u={element:document.createElement("a"),append:function(){c.element.appendChild(u.element),u.element.id="kuvaify-close-button",u.element.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M10 40l30-30M40 40L10 10"/></g></svg>'},visibility:function(e){"show"===e&&u.element.classList.add("visible"),"hide"===e&&u.element.classList.remove("visible")},close:function(){c.visibility("hide"),y.visibility("hide"),m.visibility("hide"),u.visibility("hide"),f.visibility("hide"),L.visibility("hide"),k.visibility("hide"),c.removeEventListeners(),y.removeEventListeners(),m.removeEventListeners(),f.removeEventListeners(),p.removeEventListeners(),w.removeEventListeners(),h.removeEventListeners(),L.removeEventListeners()},closeEvent:function(e){u.close(),e.preventDefault()},keydown:function(e){27===e.keyCode&&u.closeEvent(e)},addEventListeners:function(){u.element.addEventListener("click",u.closeEvent),window.addEventListener("keydown",u.keydown)},removeEventListeners:function(){u.element.removeEventListener("click",u.closeEvent),window.removeEventListener("keydown",u.keydown)}},f={button:document.createElement("a"),div:document.createElement("div"),help:document.createElement("p"),append:function(){c.element.appendChild(f.button),c.element.appendChild(f.div),f.button.id="kuvaify-menu-button",f.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M10 11h30M10 25h30M10 39h30"/></g></svg>',f.div.id="kuvaify-menu-div",f.help.id="kuvaify-help",f.help.innerHTML="Desktop users can use the <strong>left</strong> and <strong>right</strong> keys to navigate; <strong>up</strong> and <strong>down</strong> or <strong>scroll</strong> to zoom; <strong>page up</strong> and <strong>page down</strong> to rotate; <strong>click</strong> and <strong>drag</strong> to move; <strong>home</strong> to reset; and <strong>esc</strong> to close.",h.append(),w.append(),p.append(),e.showShortcuts&&l>1280&&f.div.appendChild(f.help)},visibility:function(e){"show"===e&&f.button.classList.add("visible"),"hide"===e&&(f.button.classList.remove("visible"),f.div.classList.remove("visible"))},click:function(e){f.div.classList.contains("visible")?f.div.classList.remove("visible"):f.div.classList.add("visible"),e.preventDefault()},divClick:function(e){f.div.classList.remove("visible"),e.preventDefault()},addEventListeners:function(){f.button.addEventListener("click",f.click),h.addEventListeners(),w.addEventListeners(),p.addEventListeners()},removeEventListeners:function(){f.button.removeEventListener("click",f.click),h.removeEventListeners(),w.removeEventListeners(),p.removeEventListeners()}},p={element:document.createElement("a"),append:function(){f.div.appendChild(p.element),p.element.id="kuvaify-reset-button",p.element.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M21.62 28.38L10.31 39.69M12 28h10v10"/><g><path d="M28.38 21.62L39.69 10.31M38 22H28V12"/></g></g></svg>'},reset:function(e){m.reset(),e.preventDefault()},keydown:function(e){36===e.keyCode&&p.reset(e)},addEventListeners:function(){p.element.addEventListener("click",p.reset),window.addEventListener("keydown",p.keydown)},removeEventListeners:function(){p.element.removeEventListener("click",p.reset),window.removeEventListener("keydown",p.keydown)}},w={_out:document.createElement("a"),_in:document.createElement("a"),append:function(){f.div.appendChild(w._out),f.div.appendChild(w._in),w._out.id="kuvaify-zoom-out-button",w._out.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><path d="M40 25H10" fill="none" stroke="#fff" stroke-width="2"/></svg>',w._in.id="kuvaify-zoom-in-button",w._in.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g fill="none" stroke="#fff" stroke-width="2"><path d="M25 40V10M40 25H10"/></g></svg>'},zoomOut:function(e){n[i].scale>=.4&&(n[i].scale-=n[i].scaleRatio),m.transform({scale:n[i].scale}),e.preventDefault()},zoomIn:function(e){n[i].scale+=n[i].scaleRatio,m.transform({scale:n[i].scale}),e.preventDefault()},keydown:function(e){38===e.keyCode&&w.zoomIn(e),40===e.keyCode&&w.zoomOut(e)},addEventListeners:function(){w._out.addEventListener("click",w.zoomOut),w._in.addEventListener("click",w.zoomIn),window.addEventListener("keydown",w.keydown)},removeEventListeners:function(){w._out.removeEventListener("click",w.zoomOut),w._in.removeEventListener("click",w.zoomIn),window.removeEventListener("keydown",w.keydown)}},h={negative:document.createElement("a"),positive:document.createElement("a"),append:function(){f.div.appendChild(h.negative),f.div.appendChild(h.positive),h.negative.id="kuvaify-rotate-negative-button",h.negative.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M25 39c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14" stroke-linejoin="round"/><path d="M5.03 17.885l5.565 8.308 8.308-5.567"/></g></svg>',h.positive.id="kuvaify-rotate-positive-button",h.positive.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M25 39c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14" stroke-linejoin="round"/><path d="M44.97 17.885l-5.565 8.308-8.308-5.567"/></g></svg>'},negativeRotate:function(e){m.transform({rotate:n[i].rotate-90}),e.preventDefault()},positiveRotate:function(e){m.transform({rotate:n[i].rotate+90}),e.preventDefault()},keydown:function(e){33===e.keyCode&&h.positiveRotate(e),34===e.keyCode&&h.negativeRotate(e)},addEventListeners:function(){h.negative.addEventListener("click",h.negativeRotate),h.positive.addEventListener("click",h.positiveRotate),window.addEventListener("keydown",h.keydown)},removeEventListeners:function(){h.negative.removeEventListener("click",h.negativeRotate),h.positive.removeEventListener("click",h.positiveRotate),window.removeEventListener("keydown",h.keydown)}},L={next:document.createElement("a"),prev:document.createElement("a"),append:function(){c.element.appendChild(L.next),c.element.appendChild(L.prev),L.next.id="kuvaify-next-button",L.next.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><path d="M14.467 10l20 15-20 15" fill="none" stroke="#fff" stroke-width="2"/></svg>',L.prev.id="kuvaify-prev-button",L.prev.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><path d="M35.533 10l-20 15 20 15" fill="none" stroke="#fff" stroke-width="2"/></svg>'},visibility:function(e){"depends"===e&&(null===s?L.next.classList.remove("visible"):L.next.classList.add("visible"),null===o?L.prev.classList.remove("visible"):L.prev.classList.add("visible")),"hide"===e&&(L.next.classList.remove("visible"),L.prev.classList.remove("visible"))},getNext:function(){null!==s&&m.prepare(s)},getPrev:function(){null!==o&&m.prepare(o)},nextImg:function(e){L.getNext(),e.preventDefault()},prevImg:function(e){L.getPrev(),e.preventDefault()},keydown:function(e){39===e.keyCode&&L.getNext(e),37===e.keyCode&&L.getPrev(e)},addEventListeners:function(){L.next.addEventListener("click",L.nextImg),L.prev.addEventListener("click",L.prevImg),window.addEventListener("keydown",L.keydown)},removeEventListeners:function(){L.next.removeEventListener("click",L.nextImg),L.prev.removeEventListener("click",L.prevImg),window.removeEventListener("keydown",L.keydown)}},k={element:document.createElement("div"),append:function(){k.element.id="kuvaify-spinner",k.element.innerHTML='<div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div>',k.element.style.transition="opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease",c.element.appendChild(k.element)},visibility:function(e){"show"===e&&k.element.classList.add("visible"),"hide"===e&&k.element.classList.remove("visible")}},y={element:document.createElement("div"),append:function(){c.element.appendChild(y.element),y.element.id="kuvaify-close-div"},visibility:function(e){"show"===e&&y.element.classList.add("visible"),"hide"===e&&y.element.classList.remove("visible")},click:function(e){u.close(),e.preventDefault()},addEventListeners:function(){y.element.addEventListener("click",y.click)},removeEventListeners:function(){y.element.removeEventListener("click",y.click)}};return d}(),mykuvaify=kuvaify({linkElement:"#links"}),demoButton=document.querySelector("#demo-button"),demoLink=document.querySelector("#demo-link");demoButton.addEventListener("click",function(e){demoLink.click(),e.preventDefault()});
//# sourceMappingURL=main.min.js.map
