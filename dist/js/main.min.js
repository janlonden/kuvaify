var kuvaify=function(){"use strict";var e={linkElement:"body",fileTypes:["jpg","jpeg","png","gif"],coverScreen:!0,showShortcuts:!0,transitionSpeed:400,transitionScale:.08,zoomRatio:.2,smallSize:768,mediumSize:1280},t=document.body,n=[],i=null,s=null,o=null,l=t.clientWidth,r=t.clientHeight,a=!1,d=function(t){t.linkElement&&"string"==typeof t.linkElement&&(e.linkElement=t.linkElement),t.fileTypes&&t.fileTypes.constructor===Array&&(e.fileTypes=t.fileTypes),void 0!==t.coverScreen&&t.coverScreen===!1&&(e.coverScreen=!1),void 0!==t.showShortcuts&&t.showShortcuts===!1&&(e.showShortcuts=!1),t.transitionSpeed&&"number"==typeof t.transitionSpeed&&t.transitionSpeed>=100&&(e.transitionSpeed=t.transitionSpeed),t.transitionScale&&("number"==typeof t.transitionScale&&(e.transitionScale=t.transitionScale),0===t.transitionScale&&(e.transitionScale=0)),t.zoomScale&&("number"==typeof t.zoomScale&&(e.zoomScale=t.zoomScale),0===t.zoomScale&&(e.zoomScale=0)),t.smallSize&&"number"==typeof t.smallSize&&(e.smallSize=t.smallSize),t.mediumSize&&"number"==typeof t.mediumSize&&(e.mediumSize=t.mediumSize),c.get(),c.push(),c.addEventListeners()},v=function(e){d(e)},c={links:[],get:function(){var t=document.querySelectorAll(e.linkElement+" a"),n=[].slice.call(t),i=e.fileTypes.join("|"),s=new RegExp(".("+i+")$");n.forEach(function(e){e.pathname.match(s)&&c.links.push(e)})},push:function(){c.links.forEach(function(e){u.push(e)})},addEventListeners:function(){c.links.forEach(function(e){e.addEventListener("click",function(t){a=!1;var n=c.links.indexOf(e);u.current(n),m.append(),g.append(),f.append(),p.append(),k.append(),y.append(),m.addEventListeners(),g.addEventListeners(),p.addEventListeners(),f.addEventListeners(),k.addEventListeners(),setTimeout(function(){m.visibility("show"),f.visibility("show"),p.visibility("show"),k.visibility("depends"),u.prepare(n)},100),t.preventDefault()})})}},m={element:document.createElement("div"),focusStarted:!1,focus:function(e){m.focusStarted===!1&&(m.visibility("focus"),setTimeout(function(){m.visibility("unfocus"),m.focusStarted=!1},2e3)),m.focusStarted=!0},append:function(){m.element.id="kuvaify",m.element.style.transition="opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease",t.appendChild(m.element)},visibility:function(e){"show"===e&&m.element.classList.add("visible"),"hide"===e&&m.element.classList.remove("visible"),"focus"===e&&m.element.classList.add("focused"),"unfocus"===e&&m.element.classList.remove("focused")},addEventListeners:function(){window.addEventListener("mousemove",m.focus)},removeEventListeners:function(){window.removeEventListener("mousemove",m.focus)}},u={push:function(t){var i={element:document.createElement("img"),href:t.pathname,smallHref:t.getAttribute("data-kuvaify-small")||null,mediumHref:t.getAttribute("data-kuvaify-medium")||null,caption:null,scale:1,scaleRatio:e.zoomRatio,rotate:0,offx:0,offy:0,transition:"width "+e.transitionSpeed+"ms ease, height "+e.transitionSpeed+"ms ease, transform "+e.transitionSpeed+"ms ease, opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease",loaded:!1};i.element.style.transition=i.transition,i.element.style.left=null,i.element.style.top=null,i.element.classList.add("kuvaify-img"),t.getAttribute("data-kuvaify-caption")&&(i.caption=document.createElement("div"),i.caption.innerHTML="<p>"+t.getAttribute("data-kuvaify-caption").replace(/<[^>]+>/gi,"")+"</p>",i.caption.id="kuvaify-caption",i.caption.style.transition="opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease"),n.push(i)},current:function(e){var t=n[e];i=n.indexOf(t),s=n[i+1]?i+1:null,o=n[i-1]?i-1:null},href:function(){return l<e.smallSize?n[i].smallHref:l<e.mediumSize?n[i].mediumHref:n[i].href},size:function(){var e,s=n[i].element.clientWidth,o=n[i].element.clientHeight;l=t.clientWidth,r=t.clientHeight,l>s&&r>o?e=s>o?"cover-vertically":"cover-horizontally":(l>s&&(e="cover-horizontally"),r>o&&(e="cover-vertically")),n[i].element.classList.add(e)},visibility:function(t){"show"===t&&(n[i].element.classList.add("visible"),e.transitionScale>0&&u.transform({scale:n[i].scale-e.transitionScale}),n[i].caption&&n[i].caption.classList.add("visible")),"hide"===t&&(n[i].element.classList.remove("visible"),n[i].caption&&n[i].caption.classList.remove("visible")),"measure"===t&&n[i].element.classList.add("measure"),"measured"===t&&n[i].element.classList.remove("measure")},show:function(){u.visibility("measure"),e.transitionScale>0&&u.transform({scale:n[i].scale+e.transitionScale}),e.coverScreen&&u.size(),setTimeout(function(){u.visibility("show"),setTimeout(function(){u.visibility("measured")},100)},e.transitionSpeed/4)},prepare:function(t){k.removeEventListeners(),u.visibility("hide"),u.current(t),k.visibility("depends"),u.addEventListeners(),n[i].element.src?n[i].loaded?(y.visibility("hide"),u.show()):y.visibility("show"):!function(e){var e=e;y.visibility("show"),m.element.appendChild(n[e].element),n[e].caption&&m.element.appendChild(n[e].caption),n[e].element.src=u.href(),n[e].element.addEventListener("load",function(){n[e].loaded=!0,y.visibility("hide"),e!==i||a||u.show()})}(i),setTimeout(function(){k.addEventListeners()},e.transitionSpeed/2)},transform:function(t){L.removeEventListeners();var s,o=t.scale||n[i].scale,l=t.rotate||n[i].rotate;0===t.rotate&&(l=0),s="translate(-50%, -50%) scale("+o+") rotate("+l+"deg)",n[i].scale=o,n[i].rotate=l,n[i].element.style.webkitTransform=s,n[i].element.style.msTransform=s,n[i].element.style.transform=s,setTimeout(function(){L.addEventListeners()},e.transitionSpeed/2)},reset:function(){n[i].element.style.transition=n[i].transition+", left "+e.transitionSpeed+"ms ease, top "+e.transitionSpeed+"ms ease",n[i].element.style.left=null,n[i].element.style.top=null,setTimeout(function(){n[i].element.style.transition=n[i].transition},e.transitionSpeed),u.transform({scale:1,rotate:0})},click:function(e){p.div.classList.remove("visible"),e.preventDefault()},wheel:function(e){120===e.wheelDelta?n[i].scale+=n[i].scaleRatio:n[i].scale>=.4&&(n[i].scale-=n[i].scaleRatio),u.transform({scale:n[i].scale}),e.preventDefault()},mousedown:function(e){n[i].offx=e.clientX-n[i].element.offsetLeft,n[i].offy=e.clientY-n[i].element.offsetTop,window.addEventListener("mousemove",u.mousemove),e.preventDefault()},mousemove:function(e){var t=function(){n[i].element.style.left=e.clientX-n[i].offx+"px",n[i].element.style.top=e.clientY-n[i].offy+"px"};window.requestAnimationFrame(t)},mouseup:function(e){window.removeEventListener("mousemove",u.mousemove)},addEventListeners:function(){n[i].element.addEventListener("mousedown",u.mousedown),n[i].element.addEventListener("click",u.click),window.addEventListener("wheel",u.wheel),window.addEventListener("mouseup",u.mouseup),e.coverScreen&&window.addEventListener("resize",u.size)},removeEventListeners:function(){n[i].element.removeEventListener("mousedown",u.mousedown),n[i].element.removeEventListener("click",u.click),window.removeEventListener("wheel",u.wheel),window.removeEventListener("mouseup",u.mouseup),e.coverScreen&&window.removeEventListener("resize",u.size)}},f={element:document.createElement("a"),append:function(){f.element.id="kuvaify-close-button",f.element.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M10 40l30-30M40 40L10 10"/></g></svg>',m.element.appendChild(f.element)},visibility:function(e){"show"===e&&f.element.classList.add("visible"),"hide"===e&&f.element.classList.remove("visible")},close:function(){a=!0,m.visibility("hide"),g.visibility("hide"),u.visibility("hide"),f.visibility("hide"),p.visibility("hide"),k.visibility("hide"),y.visibility("hide"),m.removeEventListeners(),g.removeEventListeners(),u.removeEventListeners(),p.removeEventListeners(),w.removeEventListeners(),h.removeEventListeners(),L.removeEventListeners(),k.removeEventListeners()},closeEvent:function(e){f.close(),e.preventDefault()},keydown:function(e){27===e.keyCode&&f.closeEvent(e)},addEventListeners:function(){f.element.addEventListener("click",f.closeEvent),window.addEventListener("keydown",f.keydown)},removeEventListeners:function(){f.element.removeEventListener("click",f.closeEvent),window.removeEventListener("keydown",f.keydown)}},p={button:document.createElement("a"),div:document.createElement("div"),help:document.createElement("p"),append:function(){p.button.id="kuvaify-menu-button",p.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M10 11h30M10 25h30M10 39h30"/></g></svg>',p.div.id="kuvaify-menu-div",p.help.id="kuvaify-help",p.help.innerHTML="Desktop users can use the <strong>left</strong> and <strong>right</strong> keys to navigate; <strong>up</strong> and <strong>down</strong> or <strong>scroll</strong> to zoom; <strong>page up</strong> and <strong>page down</strong> to rotate; <strong>click</strong> and <strong>drag</strong> to move; <strong>home</strong> to reset; and <strong>esc</strong> to close.",L.append(),h.append(),w.append(),e.showShortcuts&&l>1280&&p.div.appendChild(p.help),m.element.appendChild(p.button),m.element.appendChild(p.div)},visibility:function(e){"show"===e&&p.button.classList.add("visible"),"hide"===e&&(p.button.classList.remove("visible"),p.div.classList.remove("visible"))},click:function(e){p.div.classList.contains("visible")?p.div.classList.remove("visible"):p.div.classList.add("visible"),e.preventDefault()},divClick:function(e){p.div.classList.remove("visible"),e.preventDefault()},addEventListeners:function(){p.button.addEventListener("click",p.click),L.addEventListeners(),h.addEventListeners(),w.addEventListeners()},removeEventListeners:function(){p.button.removeEventListener("click",p.click),L.removeEventListeners(),h.removeEventListeners(),w.removeEventListeners()}},w={element:document.createElement("a"),append:function(){w.element.id="kuvaify-reset-button",w.element.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M21.62 28.38L10.31 39.69M12 28h10v10"/><g><path d="M28.38 21.62L39.69 10.31M38 22H28V12"/></g></g></svg>',p.div.appendChild(w.element)},reset:function(e){u.reset(),e.preventDefault()},keydown:function(e){36===e.keyCode&&w.reset(e)},addEventListeners:function(){w.element.addEventListener("click",w.reset),window.addEventListener("keydown",w.keydown)},removeEventListeners:function(){w.element.removeEventListener("click",w.reset),window.removeEventListener("keydown",w.keydown)}},h={_out:document.createElement("a"),_in:document.createElement("a"),append:function(){h._out.id="kuvaify-zoom-out-button",h._out.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><path d="M40 25H10" fill="none" stroke="#fff" stroke-width="2"/></svg>',h._in.id="kuvaify-zoom-in-button",h._in.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g fill="none" stroke="#fff" stroke-width="2"><path d="M25 40V10M40 25H10"/></g></svg>',p.div.appendChild(h._out),p.div.appendChild(h._in)},zoomOut:function(e){n[i].scale>=.4&&(n[i].scale-=n[i].scaleRatio),u.transform({scale:n[i].scale}),e.preventDefault()},zoomIn:function(e){n[i].scale+=n[i].scaleRatio,u.transform({scale:n[i].scale}),e.preventDefault()},keydown:function(e){38===e.keyCode&&h.zoomIn(e),40===e.keyCode&&h.zoomOut(e)},addEventListeners:function(){h._out.addEventListener("click",h.zoomOut),h._in.addEventListener("click",h.zoomIn),window.addEventListener("keydown",h.keydown)},removeEventListeners:function(){h._out.removeEventListener("click",h.zoomOut),h._in.removeEventListener("click",h.zoomIn),window.removeEventListener("keydown",h.keydown)}},L={negative:document.createElement("a"),positive:document.createElement("a"),append:function(){L.negative.id="kuvaify-rotate-negative-button",L.negative.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M25 39c7.732 0 14-6.268 14-14s-6.268-14-14-14-14 6.268-14 14" stroke-linejoin="round"/><path d="M5.03 17.885l5.565 8.308 8.308-5.567"/></g></svg>',L.positive.id="kuvaify-rotate-positive-button",L.positive.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><g stroke="#fff" fill="none" stroke-width="2"><path d="M25 39c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14" stroke-linejoin="round"/><path d="M44.97 17.885l-5.565 8.308-8.308-5.567"/></g></svg>',p.div.appendChild(L.negative),p.div.appendChild(L.positive)},negativeRotate:function(e){u.transform({rotate:n[i].rotate-90}),e.preventDefault()},positiveRotate:function(e){u.transform({rotate:n[i].rotate+90}),e.preventDefault()},keydown:function(e){33===e.keyCode&&L.positiveRotate(e),34===e.keyCode&&L.negativeRotate(e)},addEventListeners:function(){L.negative.addEventListener("click",L.negativeRotate),L.positive.addEventListener("click",L.positiveRotate),window.addEventListener("keydown",L.keydown)},removeEventListeners:function(){L.negative.removeEventListener("click",L.negativeRotate),L.positive.removeEventListener("click",L.positiveRotate),window.removeEventListener("keydown",L.keydown)}},k={next:document.createElement("a"),prev:document.createElement("a"),append:function(){k.next.id="kuvaify-next-button",k.next.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><path d="M14.467 10l20 15-20 15" fill="none" stroke="#fff" stroke-width="2"/></svg>',k.prev.id="kuvaify-prev-button",k.prev.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50.000001 50.000001"><path d="M35.533 10l-20 15 20 15" fill="none" stroke="#fff" stroke-width="2"/></svg>',m.element.appendChild(k.next),m.element.appendChild(k.prev)},visibility:function(e){"depends"===e&&(null===s?k.next.classList.remove("visible"):k.next.classList.add("visible"),null===o?k.prev.classList.remove("visible"):k.prev.classList.add("visible")),"hide"===e&&(k.next.classList.remove("visible"),k.prev.classList.remove("visible"))},getNext:function(){null!==s&&u.prepare(s)},getPrev:function(){null!==o&&u.prepare(o)},nextImg:function(e){k.getNext(),e.preventDefault()},prevImg:function(e){k.getPrev(),e.preventDefault()},keydown:function(e){39===e.keyCode&&k.getNext(e),37===e.keyCode&&k.getPrev(e)},addEventListeners:function(){k.next.addEventListener("click",k.nextImg),k.prev.addEventListener("click",k.prevImg),window.addEventListener("keydown",k.keydown)},removeEventListeners:function(){k.next.removeEventListener("click",k.nextImg),k.prev.removeEventListener("click",k.prevImg),window.removeEventListener("keydown",k.keydown)}},y={element:document.createElement("div"),append:function(){y.element.id="kuvaify-spinner",y.element.innerHTML='<div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div>',y.element.style.transition="opacity "+e.transitionSpeed+"ms ease, visibility "+e.transitionSpeed+"ms ease",m.element.appendChild(y.element)},visibility:function(e){"show"===e&&y.element.classList.add("visible"),"hide"===e&&y.element.classList.remove("visible")}},g={element:document.createElement("div"),append:function(){g.element.id="kuvaify-close-div",m.element.appendChild(g.element)},visibility:function(e){"show"===e&&g.element.classList.add("visible"),"hide"===e&&g.element.classList.remove("visible")},click:function(e){f.close(),e.preventDefault()},addEventListeners:function(){g.element.addEventListener("click",g.click)},removeEventListeners:function(){g.element.removeEventListener("click",g.click)}};return v}(),mykuvaify=kuvaify({linkElement:"#links"}),demoButton=document.querySelector("#demo-button"),demoLink=document.querySelector("#demo-link");demoButton.addEventListener("click",function(e){demoLink.click(),e.preventDefault()});
//# sourceMappingURL=main.min.js.map
